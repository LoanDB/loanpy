
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>loanpy package &#8212; loanpy 2.0 beta documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="loanpy-package">
<h1>loanpy package<a class="headerlink" href="#loanpy-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-loanpy.adrc">
<span id="loanpy-adrc-module"></span><h2>loanpy.adrc module<a class="headerlink" href="#module-loanpy.adrc" title="Permalink to this headline">¶</a></h2>
<p>Contains the Adrc class to adapt or reconstruct words</p>
<dl class="py class">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.adrc.</span></span><span class="sig-name descname"><span class="pre">Adrc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">srclg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdictlist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdictbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formscsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_most_frequent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#loanpy.qfysc.Qfy" title="loanpy.qfysc.Qfy"><code class="xref py py-class docutils literal notranslate"><span class="pre">loanpy.qfysc.Qfy</span></code></a></p>
<p>Adapts or reconstructs words based on etymological and statistical data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>substi</strong> (<em>str</em><em>, </em><em>default=&quot;substi.txt&quot;</em>) – name of the dictionary containing the sound substitutions.     Generated by loanpy.qfysc.Qfy().dfetymology2dict()</p></li>
<li><p><strong>photct</strong> (<em>str</em><em>, </em><em>default=&quot;phonotactics.txt&quot;</em>) – name of the file containing the list of allowed phonotactic structures</p></li>
<li><p><strong>sndcng</strong> (<em>str</em><em>, </em><em>default=&quot;scdict.txt&quot;</em>) – name of the file containing sound changes</p></li>
<li><p><strong>se_or_edict</strong> (<em>str</em><em>, </em><em>default=&quot;sedict.txt&quot;</em>) – name of the file containing the sum of examples, or examples</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.adapt">
<span class="sig-name descname"><span class="pre">adapt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_phonotactics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vowelharmony</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusterised</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_nse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.adapt" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an L2 word and adapts it to the constraints of L1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipa_in</strong> (<em>str</em>) – An L2 word consisting of characters of the          International Phonetic Alphabet (IPA).</p></li>
<li><p><strong>fp</strong> (<em>int</em><em>, </em><em>default=1</em>) – Indicate how many adaptions to return.</p></li>
<li><p><strong>struc</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Indicate whether words should be adapted to          phonotactic constraints.</p></li>
<li><p><strong>vowelharmony</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Indicate whether words should be adapted          to vowelharmonic constraints</p></li>
<li><p><strong>clusterised</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Indicate whether only those words should          be accepted that consist only of consonant or vowel clusters that are documented in          the etymological dictionary of L1.</p></li>
<li><p><strong>sort_by_nse</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Indicate whether adaptations should be sorted by          their likelihood.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The most likely adaptations into proto-L1</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;wulɸɪla&quot;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">struc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vowelharmony</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clusterised</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;ulwilɑ&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;wulɸɪla&quot;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">struc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vowelharmony</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clusterised</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;wulilɑ&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;wulɸɪla&quot;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">struc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vowelharmony</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clusterised</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;ulwɑlɑ, ulwVlɑ, Vlwɑlɑ, VlwVlɑ, wulwɑlɑ&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;wulɸɪla&quot;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">struc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vowelharmony</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clusterised</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sort_by_nse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;wulɑlɑ, wulɑlæ, wulVlɑ, wulVlæ, wVlɑlɑ, wVlɑlæ, wVlVlɑ, wVlVlæ, lɑlɑ, lɑlæ, lVlɑ, lVlæ&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.repair_phonotactics">
<span class="sig-name descname"><span class="pre">repair_phonotactics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_phonotactics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.repair_phonotactics" title="Permalink to this definition">¶</a></dt>
<dd><p>adapt phonotactic structure of word</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.get_diff">
<span class="sig-name descname"><span class="pre">get_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclistlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ipa</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.get_diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.get_nse">
<span class="sig-name descname"><span class="pre">get_nse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">se</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_workflow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.get_nse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.read_sc">
<span class="sig-name descname"><span class="pre">read_sc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.read_sc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.adrc.Adrc.reconstruct">
<span class="sig-name descname"><span class="pre">reconstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipastring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusterised</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">struc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vowelharmony</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_nse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.Adrc.reconstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a modern-day L1 word as input and creates a list of possible         reconstructions into proto-L1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipastring</strong> (<em>str</em>) – A modern-day L1-word</p></li>
<li><p><strong>fp</strong> (<em>int</em><em>, </em><em>default=1</em>) – The number of reconstructions to generate. Sound changes are          gradually added in decreasing order of likelihood.</p></li>
<li><p><strong>struc</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Indicate whether words should be filtered out that violate          phonotactic constraints.</p></li>
<li><p><strong>vowelharmony</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Indicate whether words should be filtered out that violate          vowelharmonic constraints.</p></li>
<li><p><strong>clusterised</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Indicate whether words should be filtered out          if they containt consonant or vowel clusters that are undocumented in the etymological          dictionary.</p></li>
<li><p><strong>sort_by_nse</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Indicate whether reconstructions should be sorted by          their likelihood.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a regular expression</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span><span class="o">.</span><span class="n">reconstruct</span><span class="p">(</span><span class="s1">&#39;mɒɟɒr&#39;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&#39;^(m)(ɑ|V|u|o|ȣ|e|æ)(nʲt͡ʃʲ|j|ðʲ|lj|l|n|t͡ʃʲ)(ɑ|V|u)(r)(V)$&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="n">adrc</span><span class="o">.</span><span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span><span class="o">.</span><span class="n">reconstruct</span><span class="p">(</span><span class="s1">&#39;mɒɟɒr&#39;</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">struc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vowelharmony</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clusterised</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;^mɑjɑrV$|^mɑðʲɑrV$|^mɑlɑrV$&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.adrc.move_sc">
<span class="sig-prename descclassname"><span class="pre">loanpy.adrc.</span></span><span class="sig-name descname"><span class="pre">move_sc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclistlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whichsound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.move_sc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.adrc.read_scdictlist">
<span class="sig-prename descclassname"><span class="pre">loanpy.adrc.</span></span><span class="sig-name descname"><span class="pre">read_scdictlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scdictlist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.adrc.read_scdictlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-loanpy.helpers">
<span id="loanpy-helpers-module"></span><h2>loanpy.helpers module<a class="headerlink" href="#module-loanpy.helpers" title="Permalink to this headline">¶</a></h2>
<p>Functions and class Etym, which are called by the other modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="loanpy.helpers.Etym">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">Etym</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formscsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srclg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inventory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_measure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'weighted_feature_edit_distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_most_frequent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999999</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that is based on 2 datasets: The first is static, and is ipa_all.csv from panphon, together with its “spinoff” cvfb.txt. The second has to be defined through the init args and will be data extracted from a forms.csv (cldf data standard, insert link here later). The class methods eventually all rely on panphon / data / “ipa_all.csv”. loanpy’s ipa_all.csv is slightly modified but I didn’t keep track of the modifications. I remember that I changed the status of the glottal stop at least. And added “C”, “V” to the bottom. Todo: Plug back in the original ipa_all.csv</p>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.repair_harmony">
<span class="sig-name descname"><span class="pre">repair_harmony</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipalist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.repair_harmony" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapts the vowel harmony of a word by replacing wrong vowels by a “F” for any front vowel or “B” for any back vowel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ipalist</strong> (<em>{list of str</em><em>, </em><em>str}</em>) – a list or a string of phonemes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of str</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">repair_harmony</span><span class="p">(</span><span class="s1">&#39;kɛsthɛj&#39;</span><span class="p">)</span>
<span class="go">[&#39;k&#39;, &#39;ɛ&#39;, &#39;s&#39;, &#39;t&#39;, &#39;h&#39;, &#39;ɛ&#39;, &#39;j&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">repair_harmony</span><span class="p">([</span><span class="s1">&#39;ɒ&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;ʃ&#39;</span><span class="p">,</span> <span class="s1">&#39;oː&#39;</span><span class="p">,</span> <span class="s1">&#39;ø&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;ʃ&#39;</span><span class="p">])</span>
<span class="go">[&#39;ɒ&#39;, &#39;l&#39;, &#39;ʃ&#39;, &#39;oː&#39;, &#39;B&#39;, &#39;r&#39;, &#39;ʃ&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">repair_harmony</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;eː&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;ɒ&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">])</span>
<span class="go">[&#39;b&#39;, &#39;eː&#39;, &#39;l&#39;, &#39;F&#39;, &#39;t&#39;, &#39;ɛ&#39;, &#39;l&#39;, &#39;ɛ&#39;, &#39;p&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">repair_harmony</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;ɒ&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;ɒ&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;ʃ&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">])</span>
<span class="go">[[&#39;b&#39;, &#39;F&#39;, &#39;l&#39;, &#39;F&#39;, &#39;t&#39;, &#39;F&#39;, &#39;n&#39;, &#39;k&#39;, &#39;ɛ&#39;, &#39;n&#39;, &#39;ɛ&#39;, &#39;ʃ&#39;, &#39;ɛ&#39;], [&#39;b&#39;, &#39;ɒ&#39;, &#39;l&#39;, &#39;ɒ&#39;, &#39;t&#39;, &#39;o&#39;, &#39;n&#39;, &#39;k&#39;, &#39;B&#39;, &#39;n&#39;, &#39;B&#39;, &#39;ʃ&#39;, &#39;B&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.get_fb">
<span class="sig-name descname"><span class="pre">get_fb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipalist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">turnto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'F'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.get_fb" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns front vowels to back ones if turnto=”B”, but turns back vowels to front ones if turnto=”F”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipalist</strong> (<em>list</em>) – a tokenised IPA-string</p></li>
<li><p><strong>turnto</strong> (<em>{&quot;F&quot;</em><em>, </em><em>&quot;B</em>) – turn back vowels to front ones or vice verse</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">get_fb</span><span class="p">([</span><span class="s1">&#39;ɒ&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;ʃ&#39;</span><span class="p">,</span> <span class="s1">&#39;oː&#39;</span><span class="p">,</span> <span class="s1">&#39;ø&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;ʃ&#39;</span><span class="p">],</span> <span class="n">turnto</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="go">[&#39;ɒ&#39;, &#39;l&#39;, &#39;ʃ&#39;, &#39;oː&#39;, &#39;B&#39;, &#39;r&#39;, &#39;ʃ&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.get_scdictbase">
<span class="sig-name descname"><span class="pre">get_scdictbase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">most_common</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.get_scdictbase" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through ipa_all.csv and rank most similar phonemes from inventory. Could also turn ipa_all.csv into a square of 6358*6358 phonemes and just use that file for all future cases but that would use an estimated 500MB per type of distance measure. So more economical to calculate it this way. Will still, depending on size of phoneme inventory, take up about 2MB. result is returned, assigned to self.scdictbase and optionally written.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_to</strong> (<em>None</em><em> | </em><em>&lt;class 'pathlib.PosixPath'&gt;</em><em> | </em><em>str</em>) – If or where the output should be written.</p></li>
<li><p><strong>most_common</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">Etym</span><span class="p">,</span> <span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span> <span class="o">=</span> <span class="n">Etym</span><span class="p">(</span><span class="n">formscsv</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;tests&quot;</span> <span class="o">/</span> <span class="s2">&quot;integration&quot;</span> <span class="o">/</span> <span class="s2">&quot;input_files&quot;</span> <span class="o">/</span> <span class="s2">&quot;forms.csv&quot;</span><span class="p">,</span> <span class="n">srclg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tgtlg</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">get_scdictbase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">scdictbase</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">]</span>
<span class="go">[&quot;y&quot;, &quot;x&quot;, &quot;z&quot;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.has_harmony">
<span class="sig-name descname"><span class="pre">has_harmony</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipalist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.has_harmony" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells if a word has front-back vowel harmony or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ipalist</strong> (<em>{list of str</em><em>, </em><em>str}</em>) – the word that should be analysed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">has_harmony</span><span class="p">(</span><span class="s2">&quot;bot͡sibot͡si&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">has_harmony</span><span class="p">([</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;ɒ&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;ɒ&quot;</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.rank_closest">
<span class="sig-name descname"><span class="pre">rank_closest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.rank_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>sort self.phoneme_inventory by distance to input-phoneme</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ph</strong> (<em>str</em><em> (</em><em>valid chars: col &quot;ipa&quot; in ipa_all.csv</em><em>)</em>) – phoneme to which to rank the inventory</p></li>
<li><p><strong>howmany</strong> (<em>{int</em><em>, </em><em>float</em><em>(</em><em>&quot;inf&quot;</em><em>)</em><em>}</em>) – howmany of the most similar to pick</p></li>
<li><p><strong>inv</strong> (<em>list</em><em> | </em><em>set</em>) – To plug in phoneme inventory manually if necessary</p></li>
</ul>
</dd>
<dt class="field-even">Rtype</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">Etym</span><span class="p">,</span> <span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span> <span class="o">=</span> <span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">rank_closest</span><span class="p">(</span><span class="n">ph</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">inv</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">],</span> <span class="n">howmany</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;t&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span> <span class="o">=</span> <span class="n">Etym</span><span class="p">(</span><span class="n">inventory</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">rank_closest</span><span class="p">(</span><span class="n">ph</span><span class="o">=</span><span class="s2">&quot;d&quot;</span><span class="p">)</span>
<span class="go">&#39;b, c, a&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.rank_closest_phonotactics">
<span class="sig-name descname"><span class="pre">rank_closest_phonotactics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">struc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999999</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.rank_closest_phonotactics" title="Permalink to this definition">¶</a></dt>
<dd><p>sort self.phonotactics_inv by distance to given phonotactic structure</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>struc</strong> (<em>str</em><em> (</em><em>consisting of &quot;C&quot;s and &quot;V&quot;s only</em><em>)</em>) – The phonetic structure to which to rank the inventory</p></li>
<li><p><strong>howmany</strong> (<em>{int</em><em>, </em><em>float</em><em>(</em><em>&quot;inf&quot;</em><em>)</em><em>}</em>) – Howmany of the most similar structures should be picked</p></li>
<li><p><strong>inv</strong> (<em>list</em><em> | </em><em>set</em>) – To plug in the phonotactic structure inventory manually if necessary</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">Etym</span><span class="p">,</span> <span class="vm">__file__</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span> <span class="o">=</span> <span class="n">Etym</span><span class="p">(</span><span class="n">phonotactics_inv</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CVC&quot;</span><span class="p">,</span> <span class="s2">&quot;CVCVV&quot;</span><span class="p">,</span> <span class="s2">&quot;CCCC&quot;</span><span class="p">,</span> <span class="s2">&quot;VVVVVV&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">rank_closest_phonotactics</span><span class="p">(</span><span class="n">struc</span><span class="o">=</span><span class="s2">&quot;CVCV&quot;</span><span class="p">,</span> <span class="n">howmany</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;CVCVV&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span> <span class="o">=</span> <span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">etym_obj</span><span class="o">.</span><span class="n">rank_closest_phonotactics</span><span class="p">(</span><span class="n">struc</span><span class="o">=</span><span class="s2">&quot;CVCV&quot;</span><span class="p">,</span> <span class="n">howmany</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="go">inv=[&quot;CVC&quot;, &quot;CVCVV&quot;, &quot;CCCC&quot;, &quot;VVVVVV&quot;])</span>
<span class="go">&quot;CVCVV, CVC, CCCC&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.read_phonotactic_inv">
<span class="sig-name descname"><span class="pre">read_phonotactic_inv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonotactics_inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999999</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.read_phonotactic_inv" title="Permalink to this definition">¶</a></dt>
<dd><p>returns inventory of the most frequent x phonotactic structures</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phonotactics_inv</strong> (<em>None</em><em> | </em><em>list</em><em> | </em><em>set</em><em> | </em><em>same type as input</em>) – Possibility to plug in the inventory manually.</p></li>
<li><p><strong>forms</strong> (<em>list</em><em> | </em><em>None</em>) – a list of words in a language</p></li>
<li><p><strong>howmany</strong> (<em>int</em>) – howmany most frequent structures should be added to inventory</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Note</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The map function seems to swallow errors that would be otherwise triggered by Counter. E.g. if you use a float (including float(“inf”)) for param &lt;howmany&gt;, an empty string will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.word2phonotactics">
<span class="sig-name descname"><span class="pre">word2phonotactics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa_in</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.word2phonotactics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the phonotactic profile of an IPA-string.</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">word2phonotactics</span><span class="p">(</span><span class="s2">&quot;lol&quot;</span><span class="p">)</span>
<span class="go">&#39;CVC&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.helpers.Etym.word2phonotactics_keepcv">
<span class="sig-name descname"><span class="pre">word2phonotactics_keepcv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa_in</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.Etym.word2phonotactics_keepcv" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the phonotactic profile of an IPA-string while keeping Cs and Vs. Originally written for sanity.py but currently not used anywhere.</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">Etym</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">word2phonotactics_keepcv</span><span class="p">(</span><span class="s2">&quot;CloVl&quot;</span><span class="p">)</span>
<span class="go">&#39;CCVVC&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="loanpy.helpers.InventoryMissingError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">InventoryMissingError</span></span><a class="headerlink" href="#loanpy.helpers.InventoryMissingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.apply_edit">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">apply_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">editops</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.apply_edit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.cldf2pd">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">cldf2pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfforms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srclg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.cldf2pd" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Converts a CLDF-csv to a pandas data frame. Only called by Etym.__init__. Returns None if dfforms is None, so class can be initiated without args too. Runs through forms.csv and creates a new data frame the following way: Checks if a cognate set contains words from both, source and target language. If yes: word from source lg goes to column “Source_Form”, word from target lg goes to column “Target_Form” and the number of the cognate set goes to column “Cognacy”. Note that if a cognate set doesn’t contain words from src and tgt lg, that cognate set is skipped.</p>
<dl class="field-list simple">
<dt class="field-odd">param dfforms</dt>
<dd class="field-odd"><p>Takes the output of read_forms() as input</p>
</dd>
<dt class="field-even">type dfforms</dt>
<dd class="field-even"><p>&lt;class ‘pandas.core.frame.DataFrame’&gt; | None</p>
</dd>
<dt class="field-odd">param srclg</dt>
<dd class="field-odd"><p>The languages who’s cognates go to column “Source_Forms”</p>
</dd>
<dt class="field-even">type srclg</dt>
<dd class="field-even"><p>&lt;str&gt;</p>
</dd>
<dt class="field-odd">param tgtlg</dt>
<dd class="field-odd"><p>The languages who’s cognates go to column “Target_Forms”</p>
</dd>
<dt class="field-even">type tgtlg</dt>
<dd class="field-even"><p>&lt;str&gt;</p>
</dd>
<dt class="field-odd">rtype</dt>
<dd class="field-odd"><p>&lt;class ‘pandas.core.frame.DataFrame’&gt; | None</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="vm">__file__</span><span class="p">,</span> <span class="n">cldf2pd</span><span class="p">,</span> <span class="n">read_forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cldf2pd</span><span class="p">(</span><span class="n">read_forms</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;tests&quot;</span> <span class="o">/</span> <span class="s2">&quot;integration&quot;</span> <span class="o">/</span> <span class="s2">&quot;input_files&quot;</span> <span class="o">/</span> <span class="s2">&quot;forms.csv&quot;</span><span class="p">),</span> <span class="n">srclg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tgtlg</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 38%" />
<col style="width: 26%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Target_Form</p></td>
<td><p>Source_Form</p></td>
<td><p>Cognacy</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<dl>
<dt>0    |     xyz    |   abc       |    1    |</dt><dd><blockquote>
<div><table class="docutils align-default">
<tbody>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Note</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>read_forms() returned:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 28%" />
<col style="width: 31%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Language_ID</p></td>
<td><p>Segments</p></td>
<td><p>Cognacy</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<dl>
<dt>0    |     1      |  abc   |    1    |</dt><dd><table class="docutils align-default">
<tbody>
</tbody>
</table>
</dd>
<dt>1    |     2      |  xyz   |    1    |</dt><dd><table class="docutils align-default">
<tbody>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.combine_ipalists">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">combine_ipalists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.combine_ipalists" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine list of sound change lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wrds</strong> (<em>list of lists of lists</em>) – list of words consisting of sound change lists</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of strings</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">combine_ipalists</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">combine_ipalists</span><span class="p">([[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">]],</span> <span class="p">[[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;g&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;h&quot;</span><span class="p">]]])</span>
<span class="go">[&#39;acd&#39;, &#39;bcd&#39;, &#39;egh&#39;, &#39;fgh&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.edit_distance_with2ops">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">edit_distance_with2ops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_ins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.49</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_del</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.edit_distance_with2ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes two strings and calculates their similarity by only allowing two operations: insertion and deletion. In line with the “Threshold Principle” by Carole Paradis and Darlene LaCharité (1997) the distance is weighted in a way that two insertions are cheaper than one deletion: “The problem is really not very different from the dilemma of a landlord stuck with a limited budget for maintenance and a building which no longer meets municipal guidelines. Beyond a certain point, renovating is not viable (there are too many steps to be taken) and demolition is in order. Similarly, we posit that I) languages have a limited budget for adapting ill- formed phonological structures, and that 2) the limit for the budget is universally set at two steps, beyond which a repair by ‘demolition’ may apply. In other words, we predict that a segment is deleted if (but only if) its rescue is too costly in terms of the Threshold Principle” (p.385, Preservation and Minimality in Loanword Adaptation, Author(s): Carole Paradis and Darlene Lacharité, Source: Journal of Linguistics , Sep., 1997, Vol. 33, No. 2 (Sep., 1997), pp. 379-430, Published by: Cambridge University Press, Stable URL: <a class="reference external" href="http://www.jstor.com/stable/4176422">http://www.jstor.com/stable/4176422</a>). The code is based on a post by ita_c on <a class="reference external" href="https://www.geeksforgeeks.org/edit-distance-and-lcs-longest-common-subsequence">https://www.geeksforgeeks.org/edit-distance-and-lcs-longest-common-subsequence</a> (last access: 11.feb.2021)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The distance between two input strings</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">edit_distance_with2ops</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;hey&quot;</span><span class="p">,</span><span class="s2">&quot;hey&quot;</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">edit_distance_with2ops</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;hey&quot;</span><span class="p">,</span><span class="s2">&quot;he&quot;</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">edit_distance_with2ops</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;hey&quot;</span><span class="p">,</span><span class="s2">&quot;heyy&quot;</span><span class="p">)</span>
<span class="go">0.4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.editops">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">editops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_del</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_ins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">49</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.editops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.flatten">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nested_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten a nested list, discard empty strings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<em>list of lists</em>) – a nested list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.forms2list">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">forms2list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.forms2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of words of a language from a forms.csv. Only called by Etym.__init__</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dff</strong> (<em>&lt;class 'pandas.core.frame.DataFrame'&gt;</em>) – forms.csv data frame (cldf)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list | None</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span><span class="p">,</span> <span class="vm">__file__</span><span class="p">,</span> <span class="n">forms2list</span><span class="p">,</span> <span class="n">read_forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forms2list</span><span class="p">(</span><span class="n">read_forms</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;tests&quot;</span> <span class="o">/</span> <span class="s2">&quot;integration&quot;</span> <span class="o">/</span> <span class="s2">&quot;input_files&quot;</span> <span class="o">/</span> <span class="s2">&quot;forms.csv&quot;</span><span class="p">),</span> <span class="n">tgtlg</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[&#39;xyz&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.gensim_multiword">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">gensim_multiword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recip_transl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">donor_transl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_wordpair</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wordvectors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'word2vec-google-news-300'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.gensim_multiword" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recip_transl</strong> (<em>str</em><em>, </em><em>words are separated by &quot;</em><em>, </em><em>&quot;</em>) – translation of the recipient word</p></li>
<li><p><strong>donor_transl</strong> (<em>str</em><em>, </em><em>words are separated by &quot;</em><em>, </em><em>&quot;</em>) – translations of the donor word</p></li>
<li><p><strong>return_wordpair</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Indicate whether the word pair itself should be returned too.</p></li>
<li><p><strong>wordvectors</strong> (<em>str</em>) – The name of the pre-trained wordvector model to use. For a complete list of loadable models see gensim’s documentation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The similarity score of the most similar word pair plus the word pair itself if return_wordpair was True.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or (int, str, str)</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">gensim_multiword</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gensim_multiword</span><span class="p">(</span><span class="s2">&quot;hovercraft, full, eels&quot;</span><span class="p">,</span> <span class="s2">&quot;nipples, explode, delight&quot;</span><span class="p">,</span>
<span class="go">                      return_wordpair=False)</span>
<span class="go">0.21005636</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">gensim_multiword</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gensim_multiword</span><span class="p">(</span><span class="s2">&quot;drop, panties, William&quot;</span><span class="p">,</span> <span class="s2">&quot;cannot, wait, lunchtime&quot;</span><span class="p">,</span>
<span class="go">                       return_wordpair=True)</span>
<span class="go">(0.54949486, &#39;house&#39;, &#39;cottage&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.get_howmany">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">get_howmany</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hm_phonotactics_ceiling</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hm_paths_ceiling</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.get_howmany" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.get_mtx">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">get_mtx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.get_mtx" title="Permalink to this definition">¶</a></dt>
<dd><p>from <a class="reference external" href="https://www.youtube.com/watch?v=AY2DZ4a9gyk">https://www.youtube.com/watch?v=AY2DZ4a9gyk</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.list2regex">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">list2regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.list2regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a list of phonemes into a regular expression</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sclist</strong> (<em>list of str</em>) – a list of phonemes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the same phonemes as a regular expression. “-” is removed and replaced with a question mark at the end.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">list2regex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2regex</span><span class="p">([</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">])</span>
<span class="go">&quot;(b|k|v)&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">list2regex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2regex</span><span class="p">([</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">])</span>
<span class="go">&quot;(b|k|v)?&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.mtx2graph">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">mtx2graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_del</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_ins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">49</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.mtx2graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.pick_minmax">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">pick_minmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inv_and_dist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.pick_minmax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.plug_in_model">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">plug_in_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word2vec_model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.plug_in_model" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>allows to plug in a word2vec model into global variable &lt;model&gt;. This is useful if you want to use vectors that can’t be loaded with gensim’s api. Vectors could be plugged in without this function as well, but this way</p>
</div></blockquote>
<p>debugging is easier.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">param word2vec_model</dt>
<dd class="field-odd"><p>The word2vec model to use</p>
</dd>
<dt class="field-even">type word2vec</dt>
<dd class="field-even"><p>{&lt;class ‘gensim.models.keyedvectors.KeyedVectors’&gt;)</p>
</dd>
<dt class="field-odd">rtype</dt>
<dd class="field-odd"><p>None (global model = word2vec_model)</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">helpers</span> <span class="k">as</span> <span class="n">hp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gensim.test.utils</span> <span class="kn">import</span> <span class="n">common_texts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gensim.models</span> <span class="kn">import</span> <span class="n">word2vec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">plug_in_model</span><span class="p">(</span><span class="n">word2vec</span><span class="o">.</span><span class="n">Word2Vec</span><span class="p">(</span><span class="n">common_texts</span><span class="p">,</span> <span class="n">min_count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">wv</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">model</span>
<span class="go">&lt;gensim.models.keyedvectors.KeyedVectors object at 0x7f85fe36d9d0&gt;</span>
</pre></div>
</div>
<p>#this one has to be verified in practice first:
&gt;&gt;&gt; from loanpy import helpers as hp
&gt;&gt;&gt; from gensim.downloader import load
&gt;&gt;&gt; hp.plug_in_model(load(“modelname”))
&gt;&gt;&gt; hp.model
&lt;gensim.models.keyedvectors.KeyedVectors object at 0x7f85fe36d9d0&gt;</p>
<p>#todo:
#how to plug in German vectors from 3rd party</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.read_cvfb">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">read_cvfb</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.read_cvfb" title="Permalink to this definition">¶</a></dt>
<dd><p>read file cvfb.txt that was generated based on ipa_all.csv. Its a tuple of two dictionaries. Keys are same as col “ipa” in ipa_all.csv. Vals of first dict are “C” if consonant and “V” if vowel (6358 keys). Vals of 2nd dict are “F” if front vowel and “B” if back vowel (1240 keys). Only called by Etym.__init__ to define self.phon2cv and self.vow2fb, which in turn is used by word2phonotactics and many others. This file could be read directly when importing, but this way debugging is easier.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(dict, dict)</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">read_cvfb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_cvfb</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.read_dst">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">read_dst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst_msr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.read_dst" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a function that calculates the phonetic distance between strings from panphon.distance.Distance. This will be used to calculate the most similar phonemes of the inventory compared to a given phoneme from ipa_all.csv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dst_msr</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the distance measure, for options see first example</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>function | None</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">panphon.distance</span> <span class="kn">import</span> <span class="n">Distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">Distance</span><span class="p">)</span>
<span class="go">doglo_prime_distance, dolgo_prime_distance_div_maxlen, fast_levenshtein_distance, fast_levenshtein_distance_div_maxlen, feature_difference,  feature_edit_distance, feature_edit_distance_div_maxlen, hamming_feature_edit_distance, hamming_feature_edit_distance_div_maxlen, hamming_substitution_cost, jt_feature_edit_distance, ...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="n">read_dst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_dst</span><span class="p">(</span><span class="s2">&quot;fast_levenshtein_distance&quot;</span><span class="p">)</span>
<span class="go">&lt;bound method Distance.fast_levenshtein_distance of &lt;panphon.distance.Distance object at 0x7f7f21fe95b0&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.read_forms">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">read_forms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dff</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.read_forms" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>reads forms.csv (cldf), keeps only columns Segement, Cognacy and Language ID, drops spaces in Segments to internally re-tokenise later. Only called by Etym.__init__ to create local variable dff (data frame forms). Returns None if dff is None. So that class can be initiated without args too.</p>
<dl class="field-list simple">
<dt class="field-odd">param dff</dt>
<dd class="field-odd"><p>path to forms.csv</p>
</dd>
<dt class="field-even">type dff</dt>
<dd class="field-even"><p>&lt;class ‘pathlib.PosixPath’&gt; | str | None</p>
</dd>
<dt class="field-odd">rtype</dt>
<dd class="field-odd"><p>&lt;class ‘pandas.core.frame.DataFrame’&gt; | None</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.helpers</span> <span class="kn">import</span> <span class="vm">__file__</span><span class="p">,</span> <span class="n">read_forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">read_forms</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;tests&quot;</span> <span class="o">/</span> <span class="s2">&quot;integration&quot;</span> <span class="o">/</span> <span class="s2">&quot;input_files&quot;</span> <span class="o">/</span> <span class="s2">&quot;forms.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 28%" />
<col style="width: 31%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Language_ID</p></td>
<td><p>Segments</p></td>
<td><p>Cognacy</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<dl>
<dt>0    |     1      |  abc   |    1    |</dt><dd><table class="docutils align-default">
<tbody>
</tbody>
</table>
</dd>
<dt>1    |     2      |  xyz   |    1    |</dt><dd><table class="docutils align-default">
<tbody>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.read_inventory">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">read_inventory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=functools.partial(&lt;function</span> <span class="pre">tokenise&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace=True)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.read_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates and returns phoneme inventory from a list of words. Only called by Etym.__init__. Param &lt;inv&gt; is if inventory should not be calculated but manually plugged in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inv</strong> (<em>set</em>) – a set of phonemes that occure in given language. if inv is None, inv will be calculated from forms else inv will be returned.</p></li>
<li><p><strong>forms</strong> (<em>list of str</em>) – a list of words occurring in giving language</p></li>
<li><p><strong>func</strong> (<em>function</em>) – the tokeniser to split words into phonemes</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set | None | same as input type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.helpers.tuples2editops">
<span class="sig-prename descclassname"><span class="pre">loanpy.helpers.</span></span><span class="sig-name descname"><span class="pre">tuples2editops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.helpers.tuples2editops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-loanpy.loanfinder">
<span id="loanpy-loanfinder-module"></span><h2>loanpy.loanfinder module<a class="headerlink" href="#module-loanpy.loanfinder" title="Permalink to this headline">¶</a></h2>
<p>takes two wordlists as input, one in the tentative recipient language (recipdf) and one in the tentative donor language (donordf) and returns candidates for potential loanwords.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="loanpy.loanfinder.NoPhonMatch">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">NoPhonMatch</span></span><a class="headerlink" href="#loanpy.loanfinder.NoPhonMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">Search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path2donordf=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path2recipdf=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">donorcol='ad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recipcol='rc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phondist=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phondist_msr='hamming_feature_edit_distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semsim=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">semsim_msr=&lt;function</span> <span class="pre">gensim_multiword&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdictlist_ad=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdictlist_rc=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.likeliestphonmatch">
<span class="sig-name descname"><span class="pre">likeliestphonmatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">donor_ad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recip_rc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">donor_segment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recip_segment</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.likeliestphonmatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the nse of recip_rc-recip_orig and donor_ad-donor_orig, adds them together        and picks the word pair with the highest sum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recip_rc</strong> (<em>regular expression</em>) – a reconstructed recipdf-root</p></li>
<li><p><strong>donor_ad</strong> (<em>str</em>) – adapted donordf-words, separated by “, “</p></li>
<li><p><strong>recip_orig</strong> (<em>str</em>) – a documented recipdf-reflex</p></li>
<li><p><strong>donor_orig</strong> (<em>str</em>) – the donor word</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The likeliest phonetic match</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.core.frame.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.loans">
<span class="sig-name descname"><span class="pre">loans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_with_rest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.merge_with_rest">
<span class="sig-name descname"><span class="pre">merge_with_rest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfmatches</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.merge_with_rest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.phonmatch">
<span class="sig-name descname"><span class="pre">phonmatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_for</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropduplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.phonmatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a regular expression is contained         in a wordlist and replace it with a number</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchfor</strong> (<em>str</em>) – The regular expression for which to search in the wordlist</p></li>
<li><p><strong>index</strong> (<em>str</em>) – The number with which to replace a match.         (This number will be         used to merge the rest of the recipdf data frame, so it should represent         the index in the recipdf data frame. Subtract 2 from the index that Excel shows         because Python starts counting at zero and does not count headers.)</p></li>
<li><p><strong>dropduplicates</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If set to True, this will drop matches that have the same         index in the wordlist         (There’s one adapted donordf-word per row, but its index         is the same as the original donordf word’s from which it was adapted.         Therefore one recipdf word can match with the same donordf word through multiple         adaptations. Since the semantics are the same for all of those matches, duplicates can be dropped.         For a more precise search, e.g. to find out         which of all possible matches are the most likely, set dropduplicates=False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pandas data frame containing phonetic matches. The index         indicates the position of the word in the donordf word list.         The column “L1_idx” indicates         the position of the word in the recipdf word list.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.core.frame.DataFrame</p>
</dd>
<dt class="field-even">Examples</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">loanfinder</span> <span class="k">as</span> <span class="n">lf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">Phonetix</span><span class="p">(</span><span class="s2">&quot;dfgot_wiktionary.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;L2_latin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span><span class="o">.</span><span class="n">findphoneticmatches</span><span class="p">(</span><span class="s2">&quot;^anna$&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|   |L2_latin_match  |  L1_idx   |</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|288| anna           |     5     |</span>
<span class="go">+---+----------------+-----------+</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">loanfinder</span> <span class="k">as</span> <span class="n">lf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">Phonetix</span><span class="p">(</span><span class="s2">&quot;dfgot_wiktionary.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;L2_latin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span><span class="o">.</span><span class="n">findphoneticmatches</span><span class="p">(</span><span class="s2">&quot;^abraham$|^anna$&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">)</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|   |L2_latin_match  |  L1_idx   |</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|6  |      abraham   |     123   |</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|288|      anna      |     123   |</span>
<span class="go">+---+----------------+-----------+</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">loanfinder</span> <span class="k">as</span> <span class="n">lf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">Phonetix</span><span class="p">(</span><span class="s2">&quot;dfgot_wiktionary.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;L2_latin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pho</span><span class="o">.</span><span class="n">findphoneticmatches</span><span class="p">(</span><span class="s2">&quot;^a(nn|br)a(ham)?$&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">)</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|   |L2_latin_match  |  L1_idx   |</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|6  |      abraham   |     456   |</span>
<span class="go">+---+----------------+-----------+</span>
<span class="go">|288|      anna      |     456   |</span>
<span class="go">+---+----------------+-----------+</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.phonmatch_small">
<span class="sig-name descname"><span class="pre">phonmatch_small</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_for</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropduplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.phonmatch_small" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as phonmatch() but search_in has to be added as a parameter. Found this         to be the most elegant solution b/c likeliestphonmatch() inputs lots of         small and very different search_in-dfs, while loans() inputs one big df</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.loanfinder.Search.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfmatches</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.Search.postprocess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.loanfinder.gen">
<span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Calculating'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>applies a function to two iteratbles, incl. progressbar with prefix</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.loanfinder.read_data">
<span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">read_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explosion</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.loanfinder.read_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-loanpy.qfysc">
<span id="loanpy-qfysc-module"></span><h2>loanpy.qfysc module<a class="headerlink" href="#module-loanpy.qfysc" title="Permalink to this headline">¶</a></h2>
<p>Extract sound correspondence patterns from etymological data, and gives etymologies a likelihood-score based on extracted data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.qfysc.</span></span><span class="sig-name descname"><span class="pre">Qfy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'adapt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scdictbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_inv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formscsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srclg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">se_or_edict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vfb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phonotactics_most_frequent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9999999</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#loanpy.helpers.Etym" title="loanpy.helpers.Etym"><code class="xref py py-class docutils literal notranslate"><span class="pre">loanpy.helpers.Etym</span></code></a></p>
<p>Define consonants, vowels, front vowels, and back vowels     based on David R. Mortensen, Patrick Littell, Akash Bharadwaj, Kartik Goyal, Chris Dyer,     Lori Levin (2016). “PanPhon: A Resource for Mapping IPA Segments to Articulatory Feature     Vectors.” Proceedings of COLING 2016, the 26th International Conference on Computational     Linguistics: Technical Papers, pages 3475–3484, Osaka, Japan, December 11-17 2016.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>se_or_edict</strong> – Name of the dictionary containing the sum of examples or examples.     This data is only needed by loanpy.qfysc.Qfy().getnse()     and is generated by loanpy.qfysc.Qfy().dfetymology2dict()</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy.align">
<span class="sig-name descname"><span class="pre">align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_vowels=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gop=-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode='global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor=0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restricted_chars='T_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model=&lt;class</span> <span class="pre">'lingpy.data.model.Model'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pprint=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy.align" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy.align_clusterwise">
<span class="sig-name descname"><span class="pre">align_clusterwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy.align_clusterwise" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy.align_lingpy">
<span class="sig-name descname"><span class="pre">align_lingpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_vowels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restricted_chars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'T_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy.align_lingpy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy.get_sound_corresp">
<span class="sig-name descname"><span class="pre">get_sound_corresp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy.get_sound_corresp" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an etymological dictionary to a dictionary of sound correspondences,         their number of occurences, and word pairs in which they occur.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfetymology</strong> (<em>str</em><em>, </em><em>default=&quot;dfuralonet.csv&quot;</em>) – The name of the etymological dictionary. Has to be         stored in a CSV-file.</p></li>
<li><p><strong>left</strong> (<em>str</em><em>, </em><em>default=&quot;New&quot;</em>) – The column containing the reflexes or donorwords</p></li>
<li><p><strong>right</strong> (<em>str</em><em>, </em><em>default=&quot;Old&quot;</em>) – The column containing the roots or loanwords</p></li>
<li><p><strong>layer</strong> (<em>str</em><em>, </em><em>e.g. {&quot;&quot;</em><em>, </em><em>&quot;U&quot;</em><em>, </em><em>&quot;FU&quot;</em><em>, </em><em>&quot;Ug&quot;}</em><em>, </em><em>default=&quot;&quot;</em>) – Indicate from which historical layer sound changes         should be extracted, Uralic (‘U’), Finno-Ugric (‘FU’), or Ugric (‘Ug’).         By default all three are taken into consideration simultaneously.</p></li>
<li><p><strong>method</strong> (<em>{'uralonet'</em><em>, </em><em>'lingpy'}</em><em>, </em><em>default=&quot;uralonet&quot;</em>) – the type of methodment</p></li>
<li><p><strong>defaultsc</strong> (<em>str</em><em>, </em><em>default=&quot;&quot;</em>) – Name of the file containing default sound-correspondences,         to fill out gaps that are missing in the etymological data.</p></li>
<li><p><strong>substitute</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Set to True if wordpairs are in a donor-loanword relationship</p></li>
<li><p><strong>write</strong> – If set to True, three dictionaries will be written to .txt-files and         None will be returned. Else a tuple of three dictionaries will be returned and no         files written.</p></li>
<li><p><strong>name_soundchangedict</strong> (<em>str</em><em>, </em><em>default=&quot;edict&quot;</em>) – Name of sound correspondence dictionary, without         file-extension.</p></li>
<li><p><strong>name_sumofexampledict</strong> – Name of dictionary counting occurences of         sound correspondences, without file-extension.</p></li>
<li><p><strong>name_examplesdict</strong> – Name of dictionary counting all examples of         wordpairs exhibiting a sound correspondence, without file-extension.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>See parameter &lt;write&gt;</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>{None, tuple of 3 dictionaries}</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">qfysc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span> <span class="o">=</span> <span class="n">qfysc</span><span class="o">.</span><span class="n">Qfy</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span><span class="o">.</span><span class="n">dfetymology2dict</span><span class="p">(</span><span class="n">dfetymology</span><span class="o">=</span><span class="s2">&quot;dfpii_Holopainen2019.csv&quot;</span><span class="p">,</span>
<span class="go">                         left=&quot;L2_ipa&quot;, right=&quot;L1_ipa&quot;,</span>
<span class="go">                         layer=&quot;&quot;, method=&quot;lingpy&quot;,</span>
<span class="go">                         defaultsc=&quot;substi_Dellert2017.csv&quot;,</span>
<span class="go">                         substitute=True, write=True,</span>
<span class="go">                         name_soundchangedict=&quot;substi&quot;,</span>
<span class="go">                         name_sumofexamplesdict=&quot;sedict_ad&quot;,</span>
<span class="go">                         name_examplesdict=&quot;edict_ad&quot;,)</span>
<span class="go">view results in data\substi.txt, sedict_ad.txt and edict_ad.txt</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">qfysc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span> <span class="o">=</span> <span class="n">qfysc</span><span class="o">.</span><span class="n">Qfy</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span><span class="o">.</span><span class="n">dfetymology2dict</span><span class="p">(</span><span class="n">dfetymology</span><span class="o">=</span><span class="s2">&quot;dfuralonet.csv&quot;</span><span class="p">,</span>
<span class="go">                         left=&quot;New&quot;, right=&quot;Old&quot;,</span>
<span class="go">                         method=&quot;uralonet&quot;,</span>
<span class="go">                          write=True,</span>
<span class="go">                         name_soundchangedict=&quot;scdict&quot;,</span>
<span class="go">                         name_sumofexamplesdict=&quot;sedict&quot;,</span>
<span class="go">                         name_examplesdict=&quot;edict&quot;)</span>
<span class="go">view results in data\scdict.txt, sedict.txt and edict.txt</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.qfysc.Qfy.get_phonotactics_corresp">
<span class="sig-name descname"><span class="pre">get_phonotactics_corresp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.Qfy.get_phonotactics_corresp" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an etymological dictionary to a dictionary of sound correspondences,         their number of occurences, and word pairs in which they occur.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfetymology</strong> (<em>str</em><em>, </em><em>default=&quot;dfuralonet.csv&quot;</em>) – The name of the etymological dictionary. Has to be         stored in a CSV-file.</p></li>
<li><p><strong>left</strong> (<em>str</em><em>, </em><em>default=&quot;New&quot;</em>) – The column containing the reflexes or donorwords</p></li>
<li><p><strong>right</strong> (<em>str</em><em>, </em><em>default=&quot;Old&quot;</em>) – The column containing the roots or loanwords</p></li>
<li><p><strong>layer</strong> (<em>str</em><em>, </em><em>e.g. {&quot;&quot;</em><em>, </em><em>&quot;U&quot;</em><em>, </em><em>&quot;FU&quot;</em><em>, </em><em>&quot;Ug&quot;}</em><em>, </em><em>default=&quot;&quot;</em>) – Indicate from which historical layer sound changes         should be extracted, Uralic (‘U’), Finno-Ugric (‘FU’), or Ugric (‘Ug’).         By default all three are taken into consideration simultaneously.</p></li>
<li><p><strong>method</strong> (<em>{'uralonet'</em><em>, </em><em>'lingpy'}</em><em>, </em><em>default=&quot;uralonet&quot;</em>) – the type of methodment</p></li>
<li><p><strong>defaultsc</strong> (<em>str</em><em>, </em><em>default=&quot;&quot;</em>) – Name of the file containing default sound-correspondences,         to fill out gaps that are missing in the etymological data.</p></li>
<li><p><strong>substitute</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Set to True if wordpairs are in a donor-loanword relationship</p></li>
<li><p><strong>write</strong> – If set to True, three dictionaries will be written to .txt-files and         None will be returned. Else a tuple of three dictionaries will be returned and no         files written.</p></li>
<li><p><strong>name_soundchangedict</strong> (<em>str</em><em>, </em><em>default=&quot;edict&quot;</em>) – Name of sound correspondence dictionary, without         file-extension.</p></li>
<li><p><strong>name_sumofexampledict</strong> – Name of dictionary counting occurences of         sound correspondences, without file-extension.</p></li>
<li><p><strong>name_examplesdict</strong> – Name of dictionary counting all examples of         wordpairs exhibiting a sound correspondence, without file-extension.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>See parameter &lt;write&gt;</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>{None, tuple of 3 dictionaries}</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">qfysc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span> <span class="o">=</span> <span class="n">qfysc</span><span class="o">.</span><span class="n">Qfy</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span><span class="o">.</span><span class="n">dfetymology2dict</span><span class="p">(</span><span class="n">dfetymology</span><span class="o">=</span><span class="s2">&quot;dfpii_Holopainen2019.csv&quot;</span><span class="p">,</span>
<span class="go">                         left=&quot;L2_ipa&quot;, right=&quot;L1_ipa&quot;,</span>
<span class="go">                         layer=&quot;&quot;, method=&quot;lingpy&quot;,</span>
<span class="go">                         defaultsc=&quot;substi_Dellert2017.csv&quot;,</span>
<span class="go">                         substitute=True, write=True,</span>
<span class="go">                         name_soundchangedict=&quot;substi&quot;,</span>
<span class="go">                         name_sumofexamplesdict=&quot;sedict_ad&quot;,</span>
<span class="go">                         name_examplesdict=&quot;edict_ad&quot;,)</span>
<span class="go">view results in data\substi.txt, sedict_ad.txt and edict_ad.txt</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy</span> <span class="kn">import</span> <span class="n">qfysc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span> <span class="o">=</span> <span class="n">qfysc</span><span class="o">.</span><span class="n">Qfy</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qfy</span><span class="o">.</span><span class="n">dfetymology2dict</span><span class="p">(</span><span class="n">dfetymology</span><span class="o">=</span><span class="s2">&quot;dfuralonet.csv&quot;</span><span class="p">,</span>
<span class="go">                         left=&quot;New&quot;, right=&quot;Old&quot;,</span>
<span class="go">                         method=&quot;uralonet&quot;,</span>
<span class="go">                          write=True,</span>
<span class="go">                         name_soundchangedict=&quot;scdict&quot;,</span>
<span class="go">                         name_sumofexamplesdict=&quot;sedict&quot;,</span>
<span class="go">                         name_examplesdict=&quot;edict&quot;)</span>
<span class="go">view results in data\scdict.txt, sedict.txt and edict.txt</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="loanpy.qfysc.WrongModeError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.qfysc.</span></span><span class="sig-name descname"><span class="pre">WrongModeError</span></span><a class="headerlink" href="#loanpy.qfysc.WrongModeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.qfysc.read_connector">
<span class="sig-prename descclassname"><span class="pre">loanpy.qfysc.</span></span><span class="sig-name descname"><span class="pre">read_connector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.read_connector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.qfysc.read_mode">
<span class="sig-prename descclassname"><span class="pre">loanpy.qfysc.</span></span><span class="sig-name descname"><span class="pre">read_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.read_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.qfysc.read_scdictbase">
<span class="sig-prename descclassname"><span class="pre">loanpy.qfysc.</span></span><span class="sig-name descname"><span class="pre">read_scdictbase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scdictbase</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.qfysc.read_scdictbase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="loanpy-sanity-module">
<h2>loanpy.sanity module<a class="headerlink" href="#loanpy-sanity-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-loanpy">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-loanpy" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="https://pypi.org/project/loanpy/"><img alt="_images/PyPI_logo.svg" src="_images/PyPI_logo.svg" /></a>
<a class="reference external image-reference" href="https://zenodo.org/record/4127115#.YHCQwej7SLQ"><img alt="_images/zenodo-gradient-200.png" src="_images/zenodo-gradient-200.png" /></a>
<a class="reference external image-reference" href="https://github.com/martino-vic/loanpy"><img alt="_images/Octocat.png" src="_images/Octocat.png" style="width: 280.0px; height: 232.74999999999997px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Loanpy is a toolkit for solving various linguistic tasks such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>predicting loanword adaptation (lateral transfer)</p></li>
<li><p>backward and forward reconstruction of words (horizontal transfer)</p></li>
<li><p>predictions can be based on: heuristics, machine learning, or data driven or manually defined rules relating to sound correspondences and phonotactic change</p></li>
<li><p>searching for new or old loanwords between two word lists, based on</p></li>
</ul>
</div></blockquote>
<p>All examples shown here can also be found in loanpy/data/examples.ipynb (provide file later)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Loading word vectors can use a lot of RAM. If a memory error appears,
closing all other tabs, windows and background processes
and using a memory-saving browser, e.g. Opera, is recommended.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">loanpy</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">loanpy package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Viktor Martinović.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/documentation (copy).rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>