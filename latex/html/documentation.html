<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documentation &mdash; LoanPy 3.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            LoanPy
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="home.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-loanpy.scminer">Sound Correspondence Miner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scminer.get_correspondences"><code class="docutils literal notranslate"><span class="pre">get_correspondences()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scminer.get_heur"><code class="docutils literal notranslate"><span class="pre">get_heur()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scminer.get_prosodic_inventory"><code class="docutils literal notranslate"><span class="pre">get_prosodic_inventory()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scminer.uralign"><code class="docutils literal notranslate"><span class="pre">uralign()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-loanpy.scapplier">Sound Correspondence Applier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.Adrc"><code class="docutils literal notranslate"><span class="pre">Adrc</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.adapt"><code class="docutils literal notranslate"><span class="pre">Adrc.adapt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.get_closest_phonotactics"><code class="docutils literal notranslate"><span class="pre">Adrc.get_closest_phonotactics()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.get_diff"><code class="docutils literal notranslate"><span class="pre">Adrc.get_diff()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.read_sc"><code class="docutils literal notranslate"><span class="pre">Adrc.read_sc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.reconstruct"><code class="docutils literal notranslate"><span class="pre">Adrc.reconstruct()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.repair_phonotactics"><code class="docutils literal notranslate"><span class="pre">Adrc.repair_phonotactics()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.set_prosodic_inventory"><code class="docutils literal notranslate"><span class="pre">Adrc.set_prosodic_inventory()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.scapplier.Adrc.set_sc"><code class="docutils literal notranslate"><span class="pre">Adrc.set_sc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.add_edge"><code class="docutils literal notranslate"><span class="pre">add_edge()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.apply_edit"><code class="docutils literal notranslate"><span class="pre">apply_edit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.dijkstra"><code class="docutils literal notranslate"><span class="pre">dijkstra()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.edit_distance_with2ops"><code class="docutils literal notranslate"><span class="pre">edit_distance_with2ops()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.get_mtx"><code class="docutils literal notranslate"><span class="pre">get_mtx()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.list2regex"><code class="docutils literal notranslate"><span class="pre">list2regex()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.move_sc"><code class="docutils literal notranslate"><span class="pre">move_sc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.mtx2graph"><code class="docutils literal notranslate"><span class="pre">mtx2graph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.substitute_operations"><code class="docutils literal notranslate"><span class="pre">substitute_operations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.scapplier.tuples2editops"><code class="docutils literal notranslate"><span class="pre">tuples2editops()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-loanpy.eval_sca">Evaluate Sound Correspondence Applier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.eval_sca.eval_all"><code class="docutils literal notranslate"><span class="pre">eval_all()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.eval_sca.eval_one"><code class="docutils literal notranslate"><span class="pre">eval_one()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-loanpy.loanfinder">Loan Finder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.loanfinder.phonetic_matches"><code class="docutils literal notranslate"><span class="pre">phonetic_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.loanfinder.semantic_matches"><code class="docutils literal notranslate"><span class="pre">semantic_matches()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-loanpy.utils">Utility Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.IPA"><code class="docutils literal notranslate"><span class="pre">IPA</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.utils.IPA.get_clusters"><code class="docutils literal notranslate"><span class="pre">IPA.get_clusters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.utils.IPA.get_cv"><code class="docutils literal notranslate"><span class="pre">IPA.get_cv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#loanpy.utils.IPA.get_prosody"><code class="docutils literal notranslate"><span class="pre">IPA.get_prosody()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.cvgaps"><code class="docutils literal notranslate"><span class="pre">cvgaps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.find_optimal_year_cutoff"><code class="docutils literal notranslate"><span class="pre">find_optimal_year_cutoff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.is_same_length_alignments"><code class="docutils literal notranslate"><span class="pre">is_same_length_alignments()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.is_valid_language_sequence"><code class="docutils literal notranslate"><span class="pre">is_valid_language_sequence()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.modify_ipa_all"><code class="docutils literal notranslate"><span class="pre">modify_ipa_all()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.prefilter"><code class="docutils literal notranslate"><span class="pre">prefilter()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.prod"><code class="docutils literal notranslate"><span class="pre">prod()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.read_ipa_all"><code class="docutils literal notranslate"><span class="pre">read_ipa_all()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#loanpy.utils.scjson2tsv"><code class="docutils literal notranslate"><span class="pre">scjson2tsv()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LoanPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/documentation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading"></a></h1>
<p>The examples listed here can be found in
<code class="docutils literal notranslate"><span class="pre">loanpy/docs/Loanpy_Documentation.ipynb</span></code> (See
<a class="reference external" href="https://github.com/LoanpyDataHub/loanpy/blob/2.0.1/docs/LoanPy_Documentation.ipynb">GitHub</a>)
to run them offline on your computer and on
<a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM?usp=sharing">Google Colab</a>
to run them online in your browser.</p>
<section id="module-loanpy.scminer">
<span id="sound-correspondence-miner"></span><h2>Sound Correspondence Miner<a class="headerlink" href="#module-loanpy.scminer" title="Permalink to this heading"></a></h2>
<p>The sound correspondence miner module contains several functions to
extract and manipulate linguistic data stored in tab-separated tables.
The main function is <code class="docutils literal notranslate"><span class="pre">get_correspondences</span></code>, which extracts sound and prosodic
correspondences from the table and returns them as six dictionaries, each
with corresponding frequencies and COGID values. The module also includes
<code class="docutils literal notranslate"><span class="pre">uralign</span></code>, a function that aligns Uralic input strings based on custom
rules, and <code class="docutils literal notranslate"><span class="pre">get_heur</span></code>, which computes a heuristic mapping between phonemes
in a target language’s phoneme inventory and all phonemes in the IPA sound
system based on the Euclidean distance of their feature vectors. Finally,
<code class="docutils literal notranslate"><span class="pre">get_prosodic_inventory</span></code> extracts all types of prosodic structures
from a target language in a given etymological table.</p>
<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scminer.get_correspondences">
<span class="sig-prename descclassname"><span class="pre">loanpy.scminer.</span></span><span class="sig-name descname"><span class="pre">get_correspondences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scminer.get_correspondences" title="Permalink to this definition"></a></dt>
<dd><p>Get sound and prosodic correspondences from a given table string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>list</em><em> of </em><em>lists</em>) – A list of lists representing an etymological table.
It must contain columns
named <code class="docutils literal notranslate"><span class="pre">ALIGNMENT</span></code>, <code class="docutils literal notranslate"><span class="pre">PROSODY</span></code>, and <code class="docutils literal notranslate"><span class="pre">COGID</span></code>.</p></li>
<li><p><strong>heur</strong> (<em>dictionary with IPA characters as keys and a list</em><em> of
</em><em>phonemes</em><em> of </em><em>a language's phoneme inventory ranked
according to feature vector similarity as values.</em>) – Optional dictionary containing heuristic correspondences
to be merged with the output. Defaults to an empty string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A list of six dictionaries containing correspondences
and their frequencies:</p>
<ol class="arabic simple">
<li><p>Sound correspondences.</p></li>
<li><p>Frequency of sound correspondences.</p></li>
<li><p>COGID values for sound correspondences.</p></li>
<li><p>Prosodic correspondences.</p></li>
<li><p>Frequency of prosodic correspondences.</p></li>
<li><p>COGID values for prosodic correspondences.</p></li>
</ol>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of six dictionaries</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=JMX_mrNhr92B&amp;line=7&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scminer</span> <span class="kn">import</span> <span class="n">get_correspondences</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_table</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;LG1&#39;</span><span class="p">,</span> <span class="s1">&#39;a b&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;LG2&#39;</span><span class="p">,</span> <span class="s1">&#39;c d&#39;</span><span class="p">,</span> <span class="s1">&#39;CC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_correspondences</span><span class="p">(</span><span class="n">input_table</span><span class="p">)</span>
<span class="go">[{&#39;a&#39;: [&#39;c&#39;], &#39;b&#39;: [&#39;d&#39;]},</span>
<span class="go"> {&#39;a c&#39;: 1, &#39;b d&#39;: 1},</span>
<span class="go"> {&#39;a c&#39;: [1], &#39;b d&#39;: [1]},</span>
<span class="go"> {&#39;VC&#39;: [&#39;CC&#39;]},</span>
<span class="go"> {&#39;VC CC&#39;: 1},</span>
<span class="go"> {&#39;VC CC&#39;: [1]}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scminer.get_heur">
<span class="sig-prename descclassname"><span class="pre">loanpy.scminer.</span></span><span class="sig-name descname"><span class="pre">get_heur</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scminer.get_heur" title="Permalink to this definition"></a></dt>
<dd><p>Rank the phonemes of a target langauge’s phoneme inventory according
to feature vector similarity to all IPA sounds.
Relies on <code class="docutils literal notranslate"><span class="pre">./cldf/.transcription-report.json</span></code> which contains the
phoneme inventory. The file <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code> contains all IPA sounds
and their feature vectors and is shipped together with loanpy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tgtlg</strong> (<em>str</em>) – The ID of the target language, as defined in
<code class="docutils literal notranslate"><span class="pre">etc/languages.tsv</span></code> in a CLDF repository.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with IPA phonemes as keys and a list of
closest target language phonemes as values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the data file or the transcription
report file is not found.</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=jfYaOtaAsfxz&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scminer</span> <span class="kn">import</span> <span class="n">get_heur</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_heur</span><span class="p">(</span><span class="s2">&quot;eng&quot;</span><span class="p">)</span>
<span class="go">{&#39;˩&#39;: [&#39;a&#39;, &#39;b&#39;],</span>
<span class="go"> &#39;˨&#39;: [&#39;a&#39;, &#39;b&#39;],</span>
<span class="go"> &#39;˧&#39;: [&#39;a&#39;, &#39;b&#39;],</span>
<span class="go"> &#39;˦&#39;: [&#39;a&#39;, &#39;b&#39;],</span>
<span class="go"> &#39;˥&#39;: [&#39;a&#39;, &#39;b&#39;],</span>
<span class="go"> ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scminer.get_prosodic_inventory">
<span class="sig-prename descclassname"><span class="pre">loanpy.scminer.</span></span><span class="sig-name descname"><span class="pre">get_prosodic_inventory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scminer.get_prosodic_inventory" title="Permalink to this definition"></a></dt>
<dd><p>Extracts all types of prosodic structures (e.g. “CVCV”)
from rows with an uneven ID (i.e. where data of target language is
located) of the given table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<em>list</em><em> of </em><em>lists</em>) – A table where every row is a list.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of prosodic structures (e.g. “CVCV”) that occur in the
target languages (i.e. in the uneven rows)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=MaLK4PJIG5VN&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scminer</span> <span class="kn">import</span> <span class="n">get_prosodic_inventory</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>  <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;#aː t͡ʃ# -#&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;a.ɣ.a t͡ʃ i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;#aː ɟ uː#&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;a l.d a.ɣ&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;#ɒ j n&#39;</span><span class="p">,</span> <span class="s1">&#39;VCC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;a j.a n&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_prosodic_inventory</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">[&#39;VCVCV&#39;, &#39;VCCVC&#39;, &#39;VCVC&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scminer.uralign">
<span class="sig-prename descclassname"><span class="pre">loanpy.scminer.</span></span><span class="sig-name descname"><span class="pre">uralign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.scminer.uralign" title="Permalink to this definition"></a></dt>
<dd><p>Aligns the left and right input strings based on a custom alignment
for Hungarian-preHungarian.</p>
<p>The function splits the input strings by space, aligns them one by one
and squeezes the remainder of the longer string into one single block,
which can be seen as a suffix.</p>
<p>It then returns the aligned strings, joined by a newline character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>str</em>) – The left input string with space-separated IPA-sounds.</p></li>
<li><p><strong>right</strong> (<em>str</em>) – The right input string with space-separated IPA-sounds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The aligned left and right strings, separated by
a newline character.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=OIKmNGkssXDZ&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scminer</span> <span class="kn">import</span> <span class="n">uralign</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">uralign</span><span class="p">(</span><span class="s2">&quot;a b c&quot;</span><span class="p">,</span> <span class="s2">&quot;f g h i j k&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;        &quot;</span><span class="p">))</span>
<span class="go">#a      b       c#      -#</span>
<span class="go">f       g       h       ijk</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-loanpy.scapplier">
<span id="sound-correspondence-applier"></span><h2>Sound Correspondence Applier<a class="headerlink" href="#module-loanpy.scapplier" title="Permalink to this heading"></a></h2>
<p>This module provides tools for predicting and analyzing changes in the
horizontal or vertical transfer of words. It includes the
Adrc class, which supports the adaptation and reconstruction of words based
on sound and prosodic correspondences and inventories. The module also
contains functions for repairing phonotactics.</p>
<p>Horizontal transfer refers to the borrowing of words
between languages in contact, while vertical transfer refers to the
inheritance of words from a parent language to its descendants.</p>
<dl class="py class">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">Adrc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prosodic_inventory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#loanpy.scapplier.Adrc" title="Permalink to this definition"></a></dt>
<dd><p>Adapt or Reconstruct (ADRC) class.</p>
<p>This class provides functionality for automatically
adapting or reconstructing words of a language,
based on sound and prosodic correspondences and inventories.
Inputs are generated by <code class="docutils literal notranslate"><span class="pre">loanpy.scminer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sc</strong> (<em>str</em><em> or </em><em>pathlike object</em><em>, </em><em>optional</em>) – The path to the sound-correspondence json-file containing the
list of six dictionaries, outputted by
<code class="docutils literal notranslate"><span class="pre">loanpy.scminer.get_correspondences</span></code></p></li>
<li><p><strong>prosodic_inventory</strong> (<em>str</em><em> or </em><em>pathlike object</em><em>, </em><em>optional</em>) – Path to the prosodic inventory json-file.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=Zf-zKt4HHH8M&amp;line=10&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">sc</span>
<span class="go">[{&#39;d&#39;: [&#39;d&#39;, &#39;t&#39;], &#39;a&#39;: [&#39;a&#39;, &#39;o&#39;]},</span>
<span class="go"> {&#39;d d&#39;: 5, &#39;d t&#39;: 4, &#39;a a&#39;: 7, &#39;a o&#39;: 1},</span>
<span class="go"> {},</span>
<span class="go"> {&#39;CVCV&#39;: [&#39;CVC&#39;]}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">prosodic_inventory</span>
<span class="go">[&#39;CV&#39;, &#39;CVV&#39;]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.adapt">
<span class="sig-name descname"><span class="pre">adapt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipastr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prosody</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.adapt" title="Permalink to this definition"></a></dt>
<dd><p>Predict the adaptation of a loanword in a target recipient language.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipastr</strong> (<em>str</em>) – Space-separated tokenised input IPA string.</p></li>
<li><p><strong>howmany</strong> (<em>int</em>) – Number of adapted words to return. Default is 1.</p></li>
<li><p><strong>prosody</strong> (<em>str</em><em> of </em><em>'C' and 'V'</em>) – Prosodic structure of the adapted words (e.g. “CVCV”).
Default is an empty string. Providing this triggers
phonotactic repair.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing possible loanword adaptations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=rHoxeCkcMQhO&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;d a d a&quot;</span><span class="p">)</span>
<span class="go">[&#39;dada&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;d a d a&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">[&#39;dada&#39;, &#39;data&#39;, &#39;doda&#39;, &#39;dota&#39;, &#39;tada&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;d a d a&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;CVCV&quot;</span><span class="p">)</span>  <span class="c1"># sc2.json says CVCV to CVC</span>
<span class="go">[&#39;dad&#39;, &#39;dat&#39;, &#39;dod&#39;, &#39;dot&#39;, &#39;tad&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">adapt</span><span class="p">(</span><span class="s2">&quot;d a d&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;CVC&quot;</span><span class="p">)</span>   <span class="c1"># no info on CVC in sc2.json</span>
<span class="go">[&#39;da&#39;, &#39;do&#39;, &#39;ta&#39;, &#39;to&#39;]</span>
<span class="go"># closest in inventory is &quot;CV&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.get_closest_phonotactics">
<span class="sig-name descname"><span class="pre">get_closest_phonotactics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">struc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.get_closest_phonotactics" title="Permalink to this definition"></a></dt>
<dd><p>Get the closest prosodic structure (e.g. “CVCV”) from the
prosodic inventory of a given language based on edit distance
with two operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>struc</strong> (<em>str</em>) – The phonotactic structure to compare against.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The closest prosodic structure (e.g. “CVCV”) in
the prosodic inventory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=MQ2yQCILA-d-&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">get_closest_phonotactics</span><span class="p">(</span><span class="s2">&quot;CVC&quot;</span><span class="p">)</span>
<span class="go">&#39;CV&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">get_closest_phonotactics</span><span class="p">(</span><span class="s2">&quot;CVCV&quot;</span><span class="p">)</span>
<span class="go">&#39;CVV&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.get_diff">
<span class="sig-name descname"><span class="pre">get_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclistlist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ipa</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.get_diff" title="Permalink to this definition"></a></dt>
<dd><p>Computes the difference in the number of examples between the current
and the next sound correspondences for each phoneme or cluster in a
word.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sclistlist</strong> (<em>list</em>) – A list of sound correspondence lists.</p></li>
<li><p><strong>ipa</strong> (<em>list</em>) – A list of IPA symbols representing the word.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of differences between the number of examples for each
sound correspondence in the input word.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=6D7dEK7iQIkg&amp;line=4&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">set_sc</span><span class="p">([{},</span> <span class="p">{</span><span class="s2">&quot;k k&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;k c&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;i e&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;i o&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sclistlist</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">get_diff</span><span class="p">(</span><span class="n">sclistlist</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">])</span>
<span class="go">[1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.read_sc">
<span class="sig-name descname"><span class="pre">read_sc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipa</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.read_sc" title="Permalink to this definition"></a></dt>
<dd><p>Replaces every phoneme of a word with a list of phonemes
that it can correspond to. The next phoneme it picks is
always the one that makes the least difference in terms
of absolute frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipa</strong> (<em>list</em>) – a tokenized/clusterised word</p></li>
<li><p><strong>howmany</strong> (<em>int</em><em>, </em><em>default=1</em>) – The desired number of possible combinations.
This is the false positive rate if the prediction
is wrong but the false positive rate -1 if the
prediction is right.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The information about which sounds each input sound can
correspond to.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of lists</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=HHP3PLv6OUhY&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">set_sc</span><span class="p">([{</span><span class="s2">&quot;k&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">],</span> <span class="s2">&quot;i&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">]},</span>
<span class="gp">... </span>             <span class="p">{</span><span class="s2">&quot;k k&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;k c&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;i e&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;i o&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">... </span>             <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sclistlist</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">read_sc</span><span class="p">([</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[[&#39;k&#39;], [&#39;e&#39;, &#39;o&#39;]]</span>
<span class="go"># difference between i e and i o = 2 - 1 = 1</span>
<span class="go"># and between k k and k c = 5 - 3 = 2</span>
<span class="go"># so picking the &quot;o&quot; makes less of a difference than picking the &quot;c&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.reconstruct">
<span class="sig-name descname"><span class="pre">reconstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipastr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.reconstruct" title="Permalink to this definition"></a></dt>
<dd><p>Reconstructs a phonological form from a given IPA string using
a sound correspondence dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipastr</strong> (<em>str</em>) – A string of space-separated IPA symbols representing
the phonetic form from which to predict a
reconstruction.</p></li>
<li><p><strong>howmany</strong> (<em>int</em>) – The maximum number of predicted reconstructions to
return. Default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A regular expression of predicted reconstructions from the
given IPA string, based on the sound correspondence
dictionary. Or the phoneme plus “not old” if a phoneme is
missing from the correspondence-dictionaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=LfwIkQCSR5_v&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">reconstruct</span><span class="p">(</span><span class="s2">&quot;d a d a&quot;</span><span class="p">)</span>
<span class="go">&#39;^(d)(a)(d)(a)$&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">reconstruct</span><span class="p">(</span><span class="s2">&quot;d a d a&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="go">&#39;^(d|t)(a|o)(d|t)(a|o)$&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">reconstruct</span><span class="p">(</span><span class="s2">&quot;l a l a&quot;</span><span class="p">)</span>
<span class="go">&#39;l not old&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.repair_phonotactics">
<span class="sig-name descname"><span class="pre">repair_phonotactics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipalist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prosody</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.repair_phonotactics" title="Permalink to this definition"></a></dt>
<dd><p>Repairs the phonotactics (prosody) of an IPA string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ipalist</strong> (<em>list</em><em> of </em><em>str</em>) – A list of IPA symbols representing the input word.</p></li>
<li><p><strong>prosody</strong> (<em>str</em>) – A string representing the prosodic structure of the
input word.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of repaired IPA strings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=06_G8ywk8Vo3&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">repair_phonotactics</span><span class="p">([</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="s2">&quot;CVCV&quot;</span><span class="p">)</span>
<span class="go">[&#39;d&#39;, &#39;a&#39;, &#39;d&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.set_prosodic_inventory">
<span class="sig-name descname"><span class="pre">set_prosodic_inventory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prosodic_inventory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.set_prosodic_inventory" title="Permalink to this definition"></a></dt>
<dd><p>Method to set the phonotactic inventory manually.
Called by <code class="docutils literal notranslate"><span class="pre">loanpy.eval_sca.eval_one</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prosodic_inventory</strong> (<em>list</em><em> of </em><em>strings</em>) – The phonotactic inventory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set the attribute <code class="docutils literal notranslate"><span class="pre">.prosodic_inventory</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=R1mPz_1lLhfb&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">set_prosodic_inventory</span><span class="p">(</span><span class="s2">&quot;rofl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">prosodic_inventory</span>
<span class="go">&#39;rofl&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.scapplier.Adrc.set_sc">
<span class="sig-name descname"><span class="pre">set_sc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.scapplier.Adrc.set_sc" title="Permalink to this definition"></a></dt>
<dd><p>Method to set sound correspondences manually.
Called by <code class="docutils literal notranslate"><span class="pre">loanpy.eval_sca.eval_one</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sc</strong> (<em>list</em><em> of </em><em>6 dicts</em>) – The sound correspondence dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set the attribute <code class="docutils literal notranslate"><span class="pre">.sc</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=5eUpM6vcLLtH&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">Adrc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span> <span class="o">=</span> <span class="n">Adrc</span><span class="p">(</span><span class="s2">&quot;examples/sc2.json&quot;</span><span class="p">,</span> <span class="s2">&quot;examples/inv.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">set_sc</span><span class="p">(</span><span class="s2">&quot;lol&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adrc</span><span class="o">.</span><span class="n">sc</span>
<span class="go">&#39;lol&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.add_edge">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">add_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.scapplier.add_edge" title="Permalink to this definition"></a></dt>
<dd><p>Add an edge to a graph. Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.mtx2graph</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>dict</em>) – The graph to be populated</p></li>
<li><p><strong>u</strong> (<em>Tuple</em><em> of </em><em>two integers</em><em>, </em><em>e.g.</em><em> (</em><em>0</em><em>, </em><em>0</em><em>)</em>) – Position of the starting node</p></li>
<li><p><strong>v</strong> (<em>Tuple</em><em> of </em><em>two integers</em><em>, </em><em>e.g.</em><em> (</em><em>0</em><em>, </em><em>1</em><em>)</em>) – Position of the ending node</p></li>
<li><p><strong>weight</strong> (<em>int</em>) – The weigt of the edge connecting the two nodes</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updates the graph in-place</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=2MmHpBB9U2FM&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">add_edge</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_edge</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span>
<span class="go">{&#39;A&#39;: {&#39;B&#39;: 3, &#39;C&#39;: 7}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.apply_edit">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">apply_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">editops</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.apply_edit" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.repair_phonotactics</span></code>.
Applies a list of human readable edit operations to a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>word</strong> (<em>an iterable</em><em> (</em><em>e.g. list</em><em> of </em><em>phonemes</em><em>, or </em><em>string</em><em>)</em>) – The input word</p></li>
<li><p><strong>editops</strong> (<em>list</em><em> or </em><em>tuple</em><em> of </em><em>strings</em>) – list of (human readable) edit operations</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>transformed input word</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=-xzLp00EKoaw&amp;line=10&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">apply_edit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_edit</span><span class="p">(</span>
<span class="gp">... </span>      <span class="p">[</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;ɛ&#39;</span><span class="p">,</span> <span class="s1">&#39;ɟ&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="p">(</span><span class="s1">&#39;insert d&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;insert u&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;insert n&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;insert ɒ&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;insert p&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;substitute f by ɒ&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;delete ɛ&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;keep r&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;delete i&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;delete h&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;delete ɛ&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s1">&#39;substitute ɟ by t&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">[&#39;d&#39;, &#39;u&#39;, &#39;n&#39;, &#39;ɒ&#39;, &#39;p&#39;, &#39;ɒ&#39;, &#39;r&#39;, &#39;t&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.dijkstra">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">dijkstra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.scapplier.dijkstra" title="Permalink to this definition"></a></dt>
<dd><p>Find the shortest path between two nodes in a weighted graph
using Dijkstra’s algorithm.</p>
<p>Dijkstra’s algorithm is an algorithm for finding the shortest path
between two nodes in a weighted graph. It
maintains a priority queue of nodes to be expanded and their tentative
distances from the start node. The
algorithm iteratively extracts the node with the minimum tentative
distance from the priority queue and updates
the tentative distances of its neighbors if a shorter path is found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>dict</em>) – A dictionary representing the weighted graph, where each
key is a node and each value is a
dictionary representing its neighbors and edge weights.</p></li>
<li><p><strong>start</strong> (<em>A tuple</em><em> of </em><em>two integers representing the node's position on
the x and y axis.</em>) – The starting node.</p></li>
<li><p><strong>end</strong> (<em>A tuple</em><em> of </em><em>two integers representing the node's position on
the x and y axis.</em>) – The ending node.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The shortest path between the start and end nodes,
represented as a list of nodes in the order they are
visited, or None if no path exists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list or None</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the start or end node is not in the graph.</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=WRYiNDPmHr5V&amp;line=5&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">dijkstra</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph1</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
<span class="gp">... </span>        <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">},</span>
<span class="gp">... </span>        <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="gp">... </span>        <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dijkstra</span><span class="p">(</span><span class="n">graph1</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra’s algorithm on Wikipedia</a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.edit_distance_with2ops">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">edit_distance_with2ops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_del</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_ins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">49</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></span><a class="headerlink" href="#loanpy.scapplier.edit_distance_with2ops" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.get_closest_phonotactics</span></code>.
Takes two strings and calculates their similarity by
only allowing two operations: insertion and deletion.
An algorithmic implementation of the “Threshold Principle”
<a class="reference external" href="http://www.jstor.com/stable/4176422">(Paradis and LaCharité 1997: 385)</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string1</strong> (<em>str</em>) – The first of two strings to be compared to each other</p></li>
<li><p><strong>string2</strong> (<em>str</em>) – The second of two strings to be compared to each other</p></li>
<li><p><strong>w_del</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>default=100</em>) – weight (cost) for deleting a phoneme. Default should
always stay 100, since only relative costs between inserting
and deleting count.</p></li>
<li><p><strong>w_ins</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>default=49.</em>) – weight (cost) for inserting a phoneme. Default 49
is in accordance with the “Threshold Principle”:
2 insertions (2*49=98) are cheaper than a deletion (100).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The distance between two input strings</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or float</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=vTJ6TnehBOGv&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">edit_distance_with2ops</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;rajka&quot;</span><span class="p">,</span> <span class="s2">&quot;ajka&quot;</span><span class="p">,</span> <span class="n">w_del</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">w_ins</span><span class="o">=</span><span class="mi">49</span><span class="p">)</span>
<span class="go">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;ajka&quot;</span><span class="p">,</span> <span class="s2">&quot;rajka&quot;</span><span class="p">,</span> <span class="n">w_del</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">w_ins</span><span class="o">=</span><span class="mi">49</span><span class="p">)</span>
<span class="go">49</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;Bécs&quot;</span><span class="p">,</span> <span class="s2">&quot;Pécs&quot;</span><span class="p">,</span> <span class="n">w_del</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">w_ins</span><span class="o">=</span><span class="mi">49</span><span class="p">)</span>
<span class="go">149</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edit_distance_with2ops</span><span class="p">(</span><span class="s2">&quot;Hegyeshalom&quot;</span><span class="p">,</span> <span class="s2">&quot;Mosonmagyaróvár&quot;</span><span class="p">,</span> <span class="n">w_del</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">w_ins</span><span class="o">=</span><span class="mi">49</span><span class="p">)</span>
<span class="go">1388</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.get_mtx">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">get_mtx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.get_mtx" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.repair_phonotactics</span></code>. Similar to
<code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.edit_distance_with2ops</span></code> but without
weights (i.e. deletion and insertion both always cost one) and the matrix
is returned. Draws a matrix of minimum edit distances between every
substring of two input strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>iterable</em><em>, </em><em>e.g. str</em><em> or </em><em>list</em>) – The target word</p></li>
<li><p><strong>source</strong> (<em>iterable</em><em>, </em><em>e.g. str</em><em> or </em><em>list</em>) – The source word</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A matrix where every cell tells the cost of turning one
substring into the other (only delete and insert with cost 1 for
each)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of lists</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=rGHqIDXcDoab&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">get_mtx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_mtx</span><span class="p">(</span><span class="s2">&quot;Bécs&quot;</span><span class="p">,</span> <span class="s2">&quot;Pécs&quot;</span><span class="p">)</span>
<span class="go">[[0, 1, 2, 3, 4],</span>
<span class="go"> [1, 2, 3, 4, 5],</span>
<span class="go"> [2, 3, 2, 3, 4],</span>
<span class="go"> [3, 4, 3, 2, 3],</span>
<span class="go"> [4, 5, 4, 3, 2]]</span>
<span class="go"># What happens under the hood:</span>
<span class="go"># deletion costs 1, insertion costs 1, so the distances are:</span>
<span class="go"># B C D E  # hashtag stands for empty string</span>
<span class="go"># 0 1 2 3 4  # distance B-#=1, BC-#=2, BCD-#=3, BCDE-#=4</span>
<span class="go"># D 1 2 3 2 3  # distance D-#=1, D-B=2, D-BC=3, D-BCD=2, D-BCDE=3</span>
<span class="go"># E 2 3 4 3 2  # distance DE-#=2, DE-B=3, DE-BC=4, DE-BCD=3, DE-BCDE=2</span>
<span class="go"># the min. edit distance from BCDE-DE=2: delete B, delete C</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=AY2DZ4a9gyk">YouTube tutorial by Rylan Fowers</a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.list2regex">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">list2regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.scapplier.list2regex" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.reconstruct</span></code>.
Turns a list of phonemes into a regular expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sclist</strong> (<em>list</em><em> of </em><em>str</em>) – a list of phonemes</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The phonemes from the input list separated by a pipe. “-” is
removed and replaced with a question mark at the end.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=_wHBHRPq96_t&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">list2regex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list2regex</span><span class="p">([</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">])</span>
<span class="go">&#39;(b|k|v)?&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.move_sc">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">move_sc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sclistlist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whichsound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.move_sc" title="Permalink to this definition"></a></dt>
<dd><p>Moves a sound correspondence from the input list to the output
list and updates both lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sclistlist</strong> (<em>list</em><em> of </em><em>lists</em>) – A list of lists containing sound correspondences.</p></li>
<li><p><strong>whichsound</strong> (<em>int</em>) – The index of the sound to be moved.</p></li>
<li><p><strong>out</strong> (<em>list</em><em> of </em><em>lists</em>) – The output list where the sound correspondence will be
moved to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An updated tuple containing the modified sclistlist and out.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of (list of lists, list of lists)</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=uRPvWbJLSDTj&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">move_sc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_sc</span><span class="p">([[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[[]])</span>
<span class="go">([[&#39;x&#39;]], [[&#39;x&#39;]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_sc</span><span class="p">([[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]],</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">]])</span>
<span class="go">([[&#39;x&#39;, &#39;x&#39;], [&#39;y&#39;], [&#39;z&#39;]], [[&#39;a&#39;], [&#39;b&#39;, &#39;y&#39;], [&#39;c&#39;]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.mtx2graph">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">mtx2graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_del</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_ins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">49</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.mtx2graph" title="Permalink to this definition"></a></dt>
<dd><p>Converts a distance-matrix to a weighted directed graph</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>matrix</strong> (<em>A list</em><em> of </em><em>list</em><em> of </em><em>integers</em>) – The distance matrix, generated by <code class="docutils literal notranslate"><span class="pre">loanpy.apply.get_mtx</span></code>.</p>
</dd>
<dt class="field-even">W_del<span class="colon">:</span></dt>
<dd class="field-even"><p>Weight of deletions. According to the Threshold Principle of the
Theory of Constraints and Repair Strategies (TCRS,
<a class="reference external" href="http://www.jstor.com/stable/4176422">Paradis and LaCharité 1997: 385</a>),
two insertions are cheaper than one deletion. Therefore,
the weight of deletions, i.e. moving to the right through the
matrix, is set to 49 by default.</p>
</dd>
<dt class="field-odd">W_ins<span class="colon">:</span></dt>
<dd class="field-odd"><p>Weight of insertions, i.e. moving downwards through the matrix.
Set to 100 by default, so that two insertions
(2*49=98) are just cheaper than one deletion.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A directed graph with weighted edges</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary with tuples as keys and dictionaries as values.
The value-dictionaries contain tuples as keys and weights
(integers) as values.
All tuples contain two integers that represent the position
of a node in the matrix/graph, e.g. (0, 0).</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=HbEz8rWFEzGi&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">mtx2graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mtx2graph</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="go">{(0, 0): {(0, 1): 100, (1, 0): 49},</span>
<span class="go"> (0, 1): {(0, 2): 100, (1, 1): 49},</span>
<span class="go"> (0, 2): {(1, 2): 49},</span>
<span class="go"> (1, 0): {(1, 1): 100, (2, 0): 49},</span>
<span class="go"> (1, 1): {(1, 2): 100, (2, 1): 49, (2, 2): 0},</span>
<span class="go"> (1, 2): {(2, 2): 49},</span>
<span class="go"> (2, 0): {(2, 1): 100},</span>
<span class="go"> (2, 1): {(2, 2): 100},</span>
<span class="go"> (2, 2): {}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.substitute_operations">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">substitute_operations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.substitute_operations" title="Permalink to this definition"></a></dt>
<dd><p>Replaces subsequent “delete, insert” / “insert, delete” operations with
“substitute”. Called by <code class="docutils literal notranslate"><span class="pre">loanpy.apply.tuples2editops</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operations</strong> (<em>List</em><em> of </em><em>strings</em><em>, </em><em>e.g.</em><em> [</em><em>'insert l'</em><em>, </em><em>'delete h'</em><em>, </em><em>'keep ó'</em><em>]</em>) – A list of human readable edit operations</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated operations</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings, e.g. [‘substitute l by h’, ‘keep ó’]</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=8wTRsBg9K4JQ&amp;line=7&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">substitute_operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">substitute_operations</span><span class="p">([</span><span class="s1">&#39;insert A&#39;</span><span class="p">,</span> <span class="s1">&#39;delete B&#39;</span><span class="p">,</span> <span class="s1">&#39;insert C&#39;</span><span class="p">])</span>
<span class="go">[&#39;substitute B by A&#39;, &#39;insert C&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">substitute_operations</span><span class="p">([</span><span class="s1">&#39;delete A&#39;</span><span class="p">,</span> <span class="s1">&#39;insert B&#39;</span><span class="p">,</span> <span class="s1">&#39;delete C&#39;</span><span class="p">,</span> <span class="s1">&#39;insert D&#39;</span><span class="p">])</span>
<span class="go">[&#39;substitute A by B&#39;, &#39;substitute C by D&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.scapplier.tuples2editops">
<span class="sig-prename descclassname"><span class="pre">loanpy.scapplier.</span></span><span class="sig-name descname"><span class="pre">tuples2editops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.scapplier.tuples2editops" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.editops</span></code>.
The path through the graph by which <code class="docutils literal notranslate"><span class="pre">string1</span></code> is converted to
<code class="docutils literal notranslate"><span class="pre">string2</span></code> is given in form of tuples that contain the x and y
coordinates of every step through the matrix shaped graph.
This function converts those numerical instructions to human readable
ones. The x values stand for movement from left to right, y values for
movement downwards.
Movement downwards means deletion, movement to the right means insertion.
Diagonal movement means the value is kept.
Moving to the right and downards or downwards and to the right after each
other means substitution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_list</strong> (<em>list</em><em> of </em><em>tuples</em><em> of </em><em>2 int</em>) – The numeric list of edit operations</p></li>
<li><p><strong>s1</strong> (<em>str</em>) – The first of two strings to be compared to each other</p></li>
<li><p><strong>s2</strong> (<em>str</em>) – The second of two strings to be compared to each other</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of human readable edit operations</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of strings</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=LtpRErY0JAeR&amp;line=5&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.scapplier</span> <span class="kn">import</span> <span class="n">tuples2editops</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tuples2editops</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="s2">&quot;ló&quot;</span><span class="p">,</span> <span class="s2">&quot;hó&quot;</span><span class="p">)</span>
<span class="go">[&#39;substitute l by h&#39;, &#39;insert ó&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tuples2editops</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)],</span> <span class="s2">&quot;lóh&quot;</span><span class="p">,</span> <span class="s2">&quot;ló&quot;</span><span class="p">)</span>
<span class="go">[&#39;keep l&#39;, &#39;keep ó&#39;, &#39;delete h&#39;]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-loanpy.eval_sca">
<span id="evaluate-sound-correspondence-applier"></span><h2>Evaluate Sound Correspondence Applier<a class="headerlink" href="#module-loanpy.eval_sca" title="Permalink to this heading"></a></h2>
<p>This module focuses on evaluating the quality of adapted and reconstructed
words. It processes the input data,
which consists of tokenised IPA source and target strings, as well as
prosodic strings, and extracts and applies correspondences to predict the best
possible adaptations or reconstructions. The module then
calculates the accuracy of the predictions by counting the relative number of
false positives (how many guesses) vs true positives.
Overall, this module aims to facilitate a deeper understanding of
loanword adaptation and historical sound change processes
by quantifying the success rate of predictive models.</p>
<dl class="py function">
<dt class="sig sig-object py" id="loanpy.eval_sca.eval_all">
<span class="sig-prename descclassname"><span class="pre">loanpy.eval_sca.</span></span><span class="sig-name descname"><span class="pre">eval_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adapt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guess_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pros</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.eval_sca.eval_all" title="Permalink to this definition"></a></dt>
<dd><ol class="arabic simple">
<li><p>Input a loanpy-compatible table containing etymological data.</p></li>
<li><p>Start a nested for-loop for</p></li>
<li><p>The first loop goes through the number of guesses (~ false positives)</p></li>
<li><p>The second loop performs <a class="reference external" href="https://en.wikipedia.org/wiki/Cross-validation_(statistics)#Leave-one-out_cross-validation">leave-one-out cross validation</a>
with <code class="docutils literal notranslate"><span class="pre">loanpy.eval_sca.eval_one</span></code>.</p></li>
<li><p>The output is a list of tuples containing the relative number of
true positives vs. relative number of false positives</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intable</strong> (<em>list</em><em> of </em><em>lists</em>) – The input tsv-table. Space-separated tokenised IPA source
and target strings must be in column “ALIGNMENT”, prosodic
strings in column “PROSODY”.</p></li>
<li><p><strong>heur</strong> (<em>str</em><em> or </em><em>pathlike object</em><em>, </em><em>optional</em>) – The path to the heuristic sound correspondences file,
e.g. “heur.json”, which was created with
<code class="docutils literal notranslate"><span class="pre">loanpy.scminer.get_heur</span></code>.</p></li>
<li><p><strong>adapt</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to make predictions with
<code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.adapt</span></code>, set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to
make predictions with
<code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.reconstruct</span></code>.</p></li>
<li><p><strong>guess_list</strong> (<em>list</em><em> of </em><em>int</em>) – The list of number of guesses to evaluate.</p></li>
<li><p><strong>pros</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Wheter phonotactic repairs should be applied</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples of integer-pairs
representing false positives vs true positives</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of tuples of integers</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=9TJGhnf5Ysmk&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.eval_sca</span> <span class="kn">import</span> <span class="n">eval_all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intable</span> <span class="o">=</span> <span class="p">[</span>  <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;k i k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;k i g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;i k k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;i g k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eval_all</span><span class="p">(</span><span class="n">intable</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[(0.33, 0.0), (0.67, 1.0), (1.0, 1.0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.eval_sca.eval_one">
<span class="sig-prename descclassname"><span class="pre">loanpy.eval_sca.</span></span><span class="sig-name descname"><span class="pre">eval_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adapt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howmany</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pros</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#loanpy.eval_sca.eval_one" title="Permalink to this definition"></a></dt>
<dd><p>Called by <code class="docutils literal notranslate"><span class="pre">loanpy.eval.eval_all</span></code>.
Loops through the loanpy-compatible etymological input-table and
performs <a class="reference external" href="https://en.wikipedia.org/wiki/Cross-validation_(statistics)#Leave-one-out_cross-validation">leave-one-out cross validation</a>.
The result is how many words were correctly predicted, relative to the
total number of predictions made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intable</strong> (<em>list</em><em> of </em><em>lists</em>) – The input tsv-table. Space-separated tokenised IPA source
and target strings must be in column “ALIGNMENT”, prosodic
strings in column “PROSODY”.</p></li>
<li><p><strong>heur</strong> (<em>str</em><em> or </em><em>pathlike object</em><em>, </em><em>optional</em>) – The path to the heuristic sound correspondences file,
e.g. “heur.json”, which was created with
<code class="docutils literal notranslate"><span class="pre">loanpy.scminer.get_heur</span></code>.</p></li>
<li><p><strong>adapt</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to make predictions with
<code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.adapt</span></code>, set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to
make predictions with
<code class="docutils literal notranslate"><span class="pre">loanpy.scapplier.Adrc.reconstruct</span></code>.</p></li>
<li><p><strong>howmany</strong> (<em>list</em>) – Howmany guesses should be made. Treated as false positives.</p></li>
<li><p><strong>pros</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Wheter phonotactic repairs should be applied</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple with the ratio of successful predictions
(rounded to 2 decimal places).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=mxCV1_xiWZpu&amp;line=11&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.eval_sca</span> <span class="kn">import</span> <span class="n">eval_one</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intable</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># regular sound correspondences</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;k i k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;g i g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;i k k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;i g g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eval_one</span><span class="p">(</span><span class="n">intable</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">1.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">intable</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># not enough regular sound correspondences</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;k i k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;g i g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;b u b a&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;p u p a&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eval_one</span><span class="p">(</span><span class="n">intable</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">0.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">intable</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># irregular sound correspondences</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;k i k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;k i g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;i k k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;i g k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eval_one</span><span class="p">(</span><span class="n">intable</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">0.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">intable</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># irregular sound correspondences</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;COGID&#39;</span><span class="p">,</span> <span class="s1">&#39;DOCULECT&#39;</span><span class="p">,</span> <span class="s1">&#39;ALIGNMENT&#39;</span><span class="p">,</span> <span class="s1">&#39;PROSODY&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;k i k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VC&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;k i g i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCVCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;i k k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCV&#39;</span><span class="p">],</span>
<span class="gp">... </span>  <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;EAH&#39;</span><span class="p">,</span> <span class="s1">&#39;i g k i&#39;</span><span class="p">,</span> <span class="s1">&#39;VCCVC&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eval_one</span><span class="p">(</span><span class="n">intable</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># increase rate of false positives</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-loanpy.loanfinder">
<span id="loan-finder"></span><h2>Loan Finder<a class="headerlink" href="#module-loanpy.loanfinder" title="Permalink to this heading"></a></h2>
<p>This module is designed to identify potential loanwords between a hypothesised
donor and recipient language. It processes two input dataframes, one
representing the donor language with predicted adapted forms and the other
the recipient language with predicted reconstructions. The module first finds
phonetic matches between the two languages and then calculates their semantic
similarity. The output is a list of candidate loanwords, which can be further
analysed manually.</p>
<p>The two functions in this module are responsible for finding phonetic
matches between the given donor and recipient language data and calculating
their semantic similarity. These functions process the input dataframes and
compare the phonetic patterns, as well as calculate the semantic similarity
based on a user-provided function. The module returns a list of candidate
loanwords that show phonetic and semantic similarities. The output can
then be used to propose lexical borrowings, adaptation patterns,
and historical reconstructions for words of the proposed donor and recipient
language.</p>
<dl class="py function">
<dt class="sig sig-object py" id="loanpy.loanfinder.phonetic_matches">
<span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">phonetic_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_rc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_ad</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.loanfinder.phonetic_matches" title="Permalink to this definition"></a></dt>
<dd><p>Find phonetic matches between the given donor and recipient TSV files.</p>
<p>The function processes the donor and recipient data frames,
compares the phonetic patterns,
and writes the result as a tsv-file to the specified output-path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_ad</strong> (<em>list</em><em> of </em><em>lists. Column 2</em><em> (</em><em>index 1</em><em>) </em><em>must be a foreign key</em><em>,
</em><em>and Column 3</em><em> (</em><em>index 2</em><em>) </em><em>a predicted loanword adaptation.</em>) – Table of the donor language data with adapted forms.</p></li>
<li><p><strong>df_rc</strong> (<em>list</em><em> of </em><em>lists. Column 2</em><em> (</em><em>index 1</em><em>) </em><em>must be a foreign key</em><em>,
</em><em>and Column 3</em><em> (</em><em>index 2</em><em>) </em><em>a predicted reconstruction</em><em>, </em><em>ideally a
regular expression.</em>) – Table of the recipient language data with reconstructed
forms.</p></li>
<li><p><strong>output</strong> (<em>str</em><em> or </em><em>pathlike object</em>) – The path to the output-file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>writes a tsv-file containing the matched data,
with the following columns: <code class="docutils literal notranslate"><span class="pre">ID</span></code> – the primary key of the
table, <code class="docutils literal notranslate"><span class="pre">ID_rc</span></code> – the foreign key of the reconstruction,
<code class="docutils literal notranslate"><span class="pre">ID_ad</span></code> – the foreign key of the adaptation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=2Q9Y3yR7ZaOG&amp;line=17&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.loanfinder</span> <span class="kn">import</span> <span class="n">phonetic_matches</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">donor</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;a0&#39;</span><span class="p">,</span> <span class="s1">&#39;Donorese-0&#39;</span><span class="p">,</span> <span class="s1">&#39;igig&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;Donorese-1&#39;</span><span class="p">,</span> <span class="s1">&#39;iggi&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">recipient</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;Recipientese-0&#39;</span><span class="p">,</span> <span class="s1">&#39;^(i|u)(g)(g)(i|u)$&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;Recipientese-1&#39;</span><span class="p">,</span> <span class="s1">&#39;^(i|u)(i|u)(g)(g)$&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outpath</span> <span class="o">=</span> <span class="s2">&quot;examples/phonetic_matches.tsv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phonetic_matches</span><span class="p">(</span><span class="n">recipient</span><span class="p">,</span> <span class="n">donor</span><span class="p">,</span> <span class="n">outpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outpath</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">ID      ID_rc   ID_ad</span>
<span class="go">0       Recipientese-0  Donorese-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.loanfinder.semantic_matches">
<span class="sig-prename descclassname"><span class="pre">loanpy.loanfinder.</span></span><span class="sig-name descname"><span class="pre">semantic_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_phonmatch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_semsim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.loanfinder.semantic_matches" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the semantic similarity between pairs of rows in the input
data frame using the provided semantic-similarity scoring function, add
the information about the semantic similarity to each row. Write the file
to the provided output-path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_phonmatch</strong> (<em>list</em><em> of </em><em>lists</em><em> of </em><em>strings</em>) – phonetic matches tsv, generated by
<code class="docutils literal notranslate"><span class="pre">loanpy.find.phonetic_matches</span></code>. Each sublist represents a
row of data. The first sublist should contain the header
row, and each subsequent sublist should contain the data
for one row. The meanings have to be in columns 4 and 5
(index 3 and 4).</p></li>
<li><p><strong>get_semsim</strong> (<em>function</em>) – A function that calculates the semantic similarity
between two strings.</p></li>
<li><p><strong>output</strong> (<em>str</em><em> or </em><em>pathlike object</em>) – The path to the output-file</p></li>
<li><p><strong>thresh</strong> (<em>float</em><em>, </em><em>int</em>) – The threshold above which semantic matches count</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>writes a tsv-file representing semantic
matches in the input table with the added column of
semantic similarity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=1aSl5pabcbnI&amp;line=16&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.loanfinder</span> <span class="kn">import</span> <span class="n">semantic_matches</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">getsemsim</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phmtsv</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;ID_rc&quot;</span><span class="p">,</span> <span class="s2">&quot;ID_ad&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;Recipientese-0&quot;</span><span class="p">,</span> <span class="s2">&quot;Donorese-1&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outpath</span> <span class="o">=</span> <span class="s2">&quot;examples/phonetic_matches.tsv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">semantic_matches</span><span class="p">(</span><span class="n">phmtsv</span><span class="p">,</span> <span class="n">getsemsim</span><span class="p">,</span> <span class="n">outpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outpath</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">ID      ID_rc   ID_ad   semsim</span>
<span class="go">0       Recipientese-0  Donorese-1      0.75</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-loanpy.utils">
<span id="utility-functions"></span><h2>Utility Functions<a class="headerlink" href="#module-loanpy.utils" title="Permalink to this heading"></a></h2>
<p>Module focusing on functions to support generating and preprocessing
loanpy-compatible input data.</p>
<p>This module contains functions for
optimal year cutoffs, manipulating IPA data, and
processing cognate sets. It provides helper functions for reading and
processing linguistic datasets and performing various operations such as
filtering and validation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="loanpy.utils.IPA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">IPA</span></span><a class="headerlink" href="#loanpy.utils.IPA" title="Permalink to this definition"></a></dt>
<dd><p>Class built on loanpy’s modified version of panphon’s <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code>
table to handle certain tasks that require IPA-data.</p>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=v2LicUQFlqjh&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">IPA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span> <span class="o">=</span> <span class="n">IPA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">ipa</span><span class="o">.</span><span class="n">vowels</span><span class="p">)</span>
<span class="go">list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ipa</span><span class="o">.</span><span class="n">vowels</span><span class="p">)</span>
<span class="go">1464</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">vowels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;ʋ̥&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="loanpy.utils.IPA.get_clusters">
<span class="sig-name descname"><span class="pre">get_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.utils.IPA.get_clusters" title="Permalink to this definition"></a></dt>
<dd><p>Takes a list of phonemes and segments them into consonant and vowel
clusters, like so: “abcdeaofgh” -&gt; [“a”, “b.c.d”, “e.a.o”, “f.g.h”]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>segments</strong> (<em>iterable</em>) – A word, ideally as a list of IPA symbols</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Same word but with consonants and vowels clustered together</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=cUwxzw9_mSvQ&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">IPA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span> <span class="o">=</span> <span class="n">IPA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">get_clusters</span><span class="p">([</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">])</span>
<span class="go">&#39;r a.u f.l&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.utils.IPA.get_cv">
<span class="sig-name descname"><span class="pre">get_cv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipastr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.utils.IPA.get_cv" title="Permalink to this definition"></a></dt>
<dd><p>This method takes an IPA string as input and
returns either “V” if the string is a vowel or “C” if it is a
consonant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ipastr</strong> (<em>str</em>) – An IPA string representing a phonetic character.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string “V” if the input IPA string is a vowel, or “C” if it
is a consonant.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=0byaFeL4luN3&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">IPA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span> <span class="o">=</span> <span class="n">IPA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">get_cv</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">get_cv</span><span class="p">(</span><span class="s2">&quot;u&quot;</span><span class="p">)</span>
<span class="go">&#39;V&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="loanpy.utils.IPA.get_prosody">
<span class="sig-name descname"><span class="pre">get_prosody</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipastr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#loanpy.utils.IPA.get_prosody" title="Permalink to this definition"></a></dt>
<dd><p>Generate a prosodic string from an IPA string.</p>
<p>This function takes an IPA string as input and generates a prosodic
string by classifying each phoneme as a vowel (V) or consonant (C).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ipastr</strong> (<em>str</em>) – The tokenised input IPA string. Phonemes must be
separated by space or dot.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generated prosodic string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=jKHMmjYVmGk-&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">IPA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span> <span class="o">=</span> <span class="n">IPA</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">get_prosody</span><span class="p">(</span><span class="s2">&quot;l o l&quot;</span><span class="p">)</span>
<span class="go">&#39;CVC&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa</span><span class="o">.</span><span class="n">get_prosody</span><span class="p">(</span><span class="s2">&quot;r o f.l&quot;</span><span class="p">)</span>
<span class="go">&#39;CVCC&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.cvgaps">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">cvgaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.utils.cvgaps" title="Permalink to this definition"></a></dt>
<dd><p>Replace gaps in the first input string based on the second input string.</p>
<p>This function takes two aligned strings, replaces “-” in the first string
with either “C” (consonant) or “V” (vowel) depending on the corresponding
character in the second string, and returns the new strings as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str1</strong> (<em>str</em>) – The first aligned input string.</p></li>
<li><p><strong>str2</strong> (<em>str</em>) – The second aligned input string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the modified first string and the unchanged
second string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of strings</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=kp2qNEflhtn4&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">cvgaps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cvgaps</span><span class="p">(</span><span class="s2">&quot;b l -&quot;</span><span class="p">,</span> <span class="s2">&quot;b l a&quot;</span><span class="p">)</span>
<span class="go">[&#39;b l V&#39;, &#39;b l a&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cvgaps</span><span class="p">(</span><span class="s2">&quot;b - a&quot;</span><span class="p">,</span> <span class="s2">&quot;b l a&quot;</span><span class="p">)</span>
<span class="go">[&#39;b C a&#39;, &#39;b l a&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.find_optimal_year_cutoff">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">find_optimal_year_cutoff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#loanpy.utils.find_optimal_year_cutoff" title="Permalink to this definition"></a></dt>
<dd><p>Determine the optimal year cutoff for a given dataset and origins.</p>
<p>This function reads TSV content from a given dataset and origins,
calculates the accumulated count of words with the specified origin until
each given year, and finds the optimal year cutoff using the euclidean
distance to the upper left corner in a coordinate system where the
relative increase of years is on the x-axis and the relative increase
in the cumulative number of words is on the y-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsv</strong> (<em>list</em><em> of </em><em>list</em><em> of </em><em>strings</em>) – A table where the first row is the header</p></li>
<li><p><strong>origins</strong> (<em>a set</em><em> of </em><em>strings</em>) – A set of origins to be considered for counting words.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The optimal year cutoff for the dataset and origins.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=CBMOG3bJfNCb&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">find_optimal_year_cutoff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tsv</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">,</span> <span class="s1">&#39;sense&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Etymology&#39;</span><span class="p">,</span> <span class="s1">&#39;Loan&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;gulyás&#39;</span><span class="p">,</span> <span class="s1">&#39;goulash, Hungarian stew&#39;</span><span class="p">,</span> <span class="s1">&#39;1800&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;Tisza&#39;</span><span class="p">,</span> <span class="s1">&#39;a major river in Hungary&#39;</span><span class="p">,</span> <span class="s1">&#39;1230&#39;</span><span class="p">,</span> <span class="s1">&#39;uncertain&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;Pest&#39;</span><span class="p">,</span> <span class="s1">&#39;part of Budapest, the capital&#39;</span><span class="p">,</span> <span class="s1">&#39;1241&#39;</span><span class="p">,</span> <span class="s1">&#39;Slavic&#39;</span><span class="p">,</span> <span class="s1">&#39;True&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;paprika&#39;</span><span class="p">,</span> <span class="s1">&#39;ground red pepper, spice&#39;</span><span class="p">,</span> <span class="s1">&#39;1598&#39;</span><span class="p">,</span> <span class="s1">&#39;Slavic&#39;</span><span class="p">,</span> <span class="s1">&#39;True&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_optimal_year_cutoff</span><span class="p">(</span><span class="n">tsv</span><span class="p">,</span> <span class="s2">&quot;Slavic&quot;</span><span class="p">)</span>
<span class="go">1241</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.is_same_length_alignments">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">is_same_length_alignments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#loanpy.utils.is_same_length_alignments" title="Permalink to this definition"></a></dt>
<dd><p>Check if alignments within a cognate set have the same length.</p>
<p>This function iterates over the input data and asserts that the alignments
within each cognate set have the same length. Alignments are expected to be in
column 4 (index 3).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em><em> of </em><em>list</em><em> of </em><em>strings</em>) – A list of lists containing language data. No header.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all alignments within each cognate set have the same length,
False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=5DQ3fmb0jmcZ&amp;line=1&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">is_same_length_alignments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_same_length_alignments</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a - c&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;d e f&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_same_length_alignments</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;a b c&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;d e&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="go">2023-04-25 23:08:05,042 - INFO - 0</span>
<span class="go">[&#39;a&#39;, &#39;-&#39;, &#39;c&#39;]</span>
<span class="go">[&#39;d&#39;, &#39;e&#39;]</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.is_valid_language_sequence">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">is_valid_language_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_lang</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_lang</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#loanpy.utils.is_valid_language_sequence" title="Permalink to this definition"></a></dt>
<dd><p>Validate if the data has a valid alternating sequence of source and target
language.</p>
<p>The data is expected to have language IDs in the third column (index 2).
The sequence should be: source_lang, target_lang, source_lang,
target_lang, …</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em>) – A list of lists containing language data. No header.</p></li>
<li><p><strong>source_lang</strong> (<em>str</em>) – The expected source language ID.</p></li>
<li><p><strong>target_lang</strong> (<em>str</em>) – The expected target language ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the sequence is valid, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=SbRE_h2wfvjx&amp;line=9&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">is_valid_language_sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_language_sequence</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">is_valid_language_sequence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;nl&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_valid_language_sequence</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="go">2023-04-25 23:04:07,532 - INFO - Problem in row 5</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.modify_ipa_all">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">modify_ipa_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.utils.modify_ipa_all" title="Permalink to this definition"></a></dt>
<dd><p>Original file is <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code> from folder <code class="docutils literal notranslate"><span class="pre">data</span></code> in <a class="reference external" href="https://pypi.org/project/panphon/0.20.0/">panphon 0.20.0</a>
and was copied with the permission of its author.
The <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code> table of loanpy was created with this function.
Following modifications are undertaken:</p>
<ol class="arabic simple">
<li><p>All <code class="docutils literal notranslate"><span class="pre">+</span></code> signs are replaced by <code class="docutils literal notranslate"><span class="pre">1</span></code>, all <code class="docutils literal notranslate"><span class="pre">-</span></code> signs by <code class="docutils literal notranslate"><span class="pre">-1</span></code></p></li>
<li><p>Two phonemes are appended to the column <code class="docutils literal notranslate"><span class="pre">ipa</span></code>,
namely “C”, and “V”, meaning “any consonant”, and “any vowel”.</p></li>
<li><p>Any phoneme containing “j”, “w”, or “ʔ” is redefined as a consonant.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_file</strong> (<em>A string</em><em> or </em><em>a path-like object</em>) – The path to the file <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code>.</p></li>
<li><p><strong>output_file</strong> (<em>A string</em><em> or </em><em>a path-like object</em>) – The name and path of the new csv-file that is to be
written.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Write new file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.prefilter">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">prefilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srclg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgtlg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.utils.prefilter" title="Permalink to this definition"></a></dt>
<dd><p>Filter dataset to keep only cognate sets where both source and target languages
occur.</p>
<p>This function filters the input dataset to retain only the cognate sets where
both source and target languages are present. The filtered dataset is then
sorted based on cognate set ID and language ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em> of </em><em>list</em><em> of </em><em>strings</em>) – A list of lists containing language data. Columns
<code class="docutils literal notranslate"><span class="pre">Language_ID</span></code> and <code class="docutils literal notranslate"><span class="pre">Cognacy</span></code> must be provided.</p></li>
<li><p><strong>srclg</strong> (<em>str</em>) – The source language ID to be considered.</p></li>
<li><p><strong>tgtlg</strong> (<em>str</em>) – The target language ID to be considered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A filtered and sorted list of lists containing cognate sets with both
source and target languages present.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of list of strings</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=UqfRHYY_hxvt&amp;line=16&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">prefilter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;Language_ID&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;Cognacy&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;nl&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;nl&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;nl&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prefilter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;de&quot;</span><span class="p">,</span> <span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="go">[[&#39;x&#39;, &#39;x&#39;, &#39;Language_ID&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;Cognacy&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;de&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;0&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;en&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;0&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;de&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;1&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;en&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;1&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;de&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;6&#39;, &#39;x&#39;],</span>
<span class="go">[&#39;x&#39;, &#39;x&#39;, &#39;en&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;x&#39;, &#39;6&#39;, &#39;x&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.prod">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></span><a class="headerlink" href="#loanpy.utils.prod" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the product of all elements in an iterable.</p>
<p>This function takes an iterable (e.g., list, tuple) as input and computes
the product of all its elements. This function had to be hard-coded
because <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">prod</span></code> caused incompatibility issues with some
python versions on certain platforms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iterable</strong> (<em>Iterable</em><em>[</em><em>int</em><em>] or </em><em>Iterable</em><em>[</em><em>float</em><em>]</em>) – The input iterable containing numbers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The product of all elements in the input iterable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or float</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=OeII4PN6lQzO&amp;line=2&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">prod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prod</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># one times two times three</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.read_ipa_all">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">read_ipa_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#loanpy.utils.read_ipa_all" title="Permalink to this definition"></a></dt>
<dd><p>This function reads the <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code> table located in the same
directory as the loanpy-modules and returns it as a list of lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of lists containing IPA data read from <code class="docutils literal notranslate"><span class="pre">ipa_all.csv</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list of list of strings</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=59YkE8Krj86V&amp;line=3&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">read_ipa_all</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa_all</span> <span class="o">=</span> <span class="n">read_ipa_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">ipa_all</span><span class="p">)</span>
<span class="go">list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ipa_all</span><span class="p">)</span>
<span class="go">6492</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ipa_all</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">[[&#39;ipa&#39;, &#39;syl&#39;, &#39;son&#39;, &#39;cons&#39;, &#39;cont&#39;, &#39;delrel&#39;, &#39;lat&#39;, &#39;nas&#39;,</span>
<span class="go">&#39;strid&#39;, &#39;voi&#39;, &#39;sg&#39;, &#39;cg&#39;, &#39;ant&#39;, &#39;cor&#39;, &#39;distr&#39;, &#39;lab&#39;, &#39;hi&#39;, &#39;lo&#39;,</span>
<span class="go">&#39;back&#39;, &#39;round&#39;, &#39;velaric&#39;, &#39;tense&#39;, &#39;long&#39;, &#39;hitone&#39;, &#39;hireg&#39;],</span>
<span class="go">[&#39;˩&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;,</span>
<span class="go">&#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;-1&#39;, &#39;-1&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="loanpy.utils.scjson2tsv">
<span class="sig-prename descclassname"><span class="pre">loanpy.utils.</span></span><span class="sig-name descname"><span class="pre">scjson2tsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jsonin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outtsv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outtsv_phonotactics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#loanpy.utils.scjson2tsv" title="Permalink to this definition"></a></dt>
<dd><p>Turn a computer-readable sound correspondence json-file into a
human readbale tab separated value file (tsv).</p>
<ol class="arabic simple">
<li><p>read json</p></li>
<li><p>put information into columns</p></li>
<li><p>write file</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jsonin</strong> (<em>str</em><em> or </em><em>path-like object</em>) – The name of the json-file containing the sound
correspondences to be converted</p></li>
<li><p><strong>outtsv</strong> (<em>str</em><em> or </em><em>path-like object</em>) – The name of the output file containing the sound
correspondences. Should end in “.tsv”.</p></li>
<li><p><strong>outtsv_phonotactics</strong> – The name of the output file containing the
phonotactic (=prosodic) correspondences. Should end in
“.tsv”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Write two tsv-files to the specified two output paths</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><a class="reference external" href="https://colab.research.google.com/drive/1JlHKfdff_yjCO8yvxiKV9xoRAiEPgarM#scrollTo=HZpkFtY_mewV&amp;line=9&amp;uniqifier=1">Run in Google Colab &gt;&gt;</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loanpy.utils</span> <span class="kn">import</span> <span class="n">scjson2tsv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scjson2tsv</span><span class="p">(</span><span class="s2">&quot;sc.json&quot;</span><span class="p">,</span> <span class="s2">&quot;sc.tsv&quot;</span><span class="p">,</span> <span class="s2">&quot;sc_p.tsv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;sc.tsv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">sc      src     tgt     freq    CogID</span>
<span class="go">a o a   o       1       512</span>
<span class="go">a e     a       e       2       3, 4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;sc_p.tsv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">sc      src     tgt     freq    CogID</span>
<span class="go">CV CV   CV      CV      1       7</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial.html" class="btn btn-neutral float-left" title="Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Viktor Martinović.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>